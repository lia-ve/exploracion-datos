<!DOCTYPE html>
<html lang="es"><head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="analisis-exploratorio-datos_files/libs/clipboard/clipboard.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/tabby.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/popper.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="analisis-exploratorio-datos_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="analisis-exploratorio-datos_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="analisis-exploratorio-datos_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Rainer Palm">
  <title>Análisis exploratorio de datos</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/theme/quarto-a5c23263aa69249f0e6120277585a5a9.css">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Análisis exploratorio de datos</h1>
  <p class="subtitle">Extrayendo significado del dato bruto</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Rainer Palm 
</div>
<div class="quarto-title-author-email">
<a href="mailto:rdppetrizzo@gmail.org">rdppetrizzo@gmail.org</a>
</div>
        <p class="quarto-title-affiliation">
            Laboratorio Venezolano de Inteligencia Artificial
          </p>
    </div>
</div>

</section>
<section id="introducción" class="slide level2">
<h2>Introducción</h2>
<p>En esta sesión, desarrollaremos un ejemplo de como se realiza un analísis exploratorio de datos (AED) con Python, trabajando con datos reales del Índice de Calidad del Aire de Ciudad de México.</p>
<p>Verás como se realiza cada paso de este proceso, desde su <strong>carga</strong> y <strong>preparación</strong>, hasta su <strong>visualización</strong>, culminando con un <strong>análisis</strong> de correlaciones mediante un modelo de regresión lineal.</p>
</section>
<section id="objetivos" class="slide level2">
<h2>Objetivos</h2>
<ol type="1">
<li><p>Cargar y hacer una revisión de los datos</p></li>
<li><p>Limpiar, imputar o normalizar datos</p></li>
<li><p>Hacer visualizaciones y análisis generales de los datos</p></li>
<li><p>Emplear gráficos más especificos para ver relaciones, distribuciones y tendencias</p></li>
<li><p>Detección de patrones y correlaciones</p></li>
<li><p>Interpretación y generación de hipótesis</p></li>
</ol>
</section>
<section id="análisis-exploratorio-de-datos" class="slide level2">
<h2>Análisis exploratorio de datos</h2>
<p>Es un proceso crítico en el cual se <strong>exploran e investigan</strong> los datos sin suposiciones previas para llegar a una comprensión más completa de estos (y sus patrones, relaciones, características, etc.).</p>
<p>Así se puede decidir de manera informada:</p>
<ul>
<li><p>Que variables son <strong>relevantes</strong>?</p></li>
<li><p>Como debería <strong>tratar</strong> las variables?</p></li>
<li><p>Que <strong>técnicas estadísticas o modelos</strong> se deberían utilizar con estos datos?</p></li>
</ul>
</section>
<section id="ejemplo-de-carga" class="slide level2">
<h2>Ejemplo de carga</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="co"># Este conjunto de datos se puede descargar</span></span>
<span id="cb1-2"><a href=""></a><span class="co"># directamente desde Python.</span></span>
<span id="cb1-3"><a href=""></a><span class="im">from</span> urllib.request <span class="im">import</span> urlretrieve</span>
<span id="cb1-4"><a href=""></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb1-5"><a href=""></a></span>
<span id="cb1-6"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href=""></a><span class="im">from</span> tqdm <span class="im">import</span> tqdm</span>
<span id="cb1-9"><a href=""></a></span>
<span id="cb1-10"><a href=""></a><span class="co"># Se descargan todos los archivos excel para los años 1996-2023.</span></span>
<span id="cb1-11"><a href=""></a><span class="cf">for</span> year <span class="kw">in</span> tqdm(<span class="bu">range</span>(<span class="dv">1996</span>, <span class="dv">2023</span>)):</span>
<span id="cb1-12"><a href=""></a>    url <span class="op">=</span> <span class="ss">f"http://www.aire.cdmx.gob.mx/descargas/basesimeca/imeca</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">.xls"</span></span>
<span id="cb1-13"><a href=""></a>    filename <span class="op">=</span> <span class="ss">f"data/</span><span class="sc">{</span>Path(url)<span class="sc">.</span>name<span class="sc">}</span><span class="ss">"</span></span>
<span id="cb1-14"><a href=""></a>    urlretrieve(url, filename)</span>
<span id="cb1-15"><a href=""></a></span>
<span id="cb1-16"><a href=""></a><span class="co"># Se crea una lista de dataframes a partir de los archivos descargados.</span></span>
<span id="cb1-17"><a href=""></a>dfs <span class="op">=</span> []</span>
<span id="cb1-18"><a href=""></a><span class="cf">for</span> year <span class="kw">in</span> tqdm(<span class="bu">range</span>(<span class="dv">1996</span>, <span class="dv">2023</span>)):</span>
<span id="cb1-19"><a href=""></a>    df <span class="op">=</span> pd.read_excel(<span class="ss">f"data/imeca</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">.xls"</span>)</span>
<span id="cb1-20"><a href=""></a>    dfs.append(df)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="vista-preliminar-del-dataframe" class="slide level2 smaller">
<h2>Vista preliminar del dataframe</h2>
<div id="74399874" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="30">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Fecha</th>
<th data-quarto-table-cell-role="th">Hora</th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste ozono</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste ozono</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro ozono</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste ozono</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste ozono</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1996-01-01</td>
<td>7</td>
<td>21.0</td>
<td>10</td>
<td>13</td>
<td>35</td>
<td>22</td>
<td>21.0</td>
<td>16</td>
<td>14</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1996-01-01</td>
<td>8</td>
<td>22.0</td>
<td>10</td>
<td>18</td>
<td>32</td>
<td>23</td>
<td>16.0</td>
<td>16</td>
<td>16</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1996-01-01</td>
<td>9</td>
<td>25.0</td>
<td>10</td>
<td>23</td>
<td>32</td>
<td>24</td>
<td>17.0</td>
<td>16</td>
<td>24</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1996-01-01</td>
<td>10</td>
<td>40.0</td>
<td>10</td>
<td>30</td>
<td>33</td>
<td>24</td>
<td>42.0</td>
<td>16</td>
<td>26</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1996-01-01</td>
<td>11</td>
<td>58.0</td>
<td>10</td>
<td>11</td>
<td>33</td>
<td>24</td>
<td>66.0</td>
<td>16</td>
<td>25</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227011</td>
<td>2022-12-31</td>
<td>20</td>
<td>NaN</td>
<td>4</td>
<td>17</td>
<td>5</td>
<td>38</td>
<td>NaN</td>
<td>2</td>
<td>18</td>
<td>...</td>
<td>19.0</td>
<td>58.0</td>
<td>19.0</td>
<td>56.0</td>
<td>21.0</td>
<td>54.0</td>
<td>26.0</td>
<td>51.0</td>
<td>25.0</td>
<td>61.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227012</td>
<td>2022-12-31</td>
<td>21</td>
<td>NaN</td>
<td>4</td>
<td>14</td>
<td>5</td>
<td>39</td>
<td>NaN</td>
<td>2</td>
<td>22</td>
<td>...</td>
<td>11.0</td>
<td>59.0</td>
<td>13.0</td>
<td>56.0</td>
<td>13.0</td>
<td>54.0</td>
<td>24.0</td>
<td>52.0</td>
<td>23.0</td>
<td>62.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227013</td>
<td>2022-12-31</td>
<td>22</td>
<td>NaN</td>
<td>4</td>
<td>20</td>
<td>6</td>
<td>40</td>
<td>NaN</td>
<td>2</td>
<td>22</td>
<td>...</td>
<td>6.0</td>
<td>60.0</td>
<td>8.0</td>
<td>57.0</td>
<td>11.0</td>
<td>54.0</td>
<td>21.0</td>
<td>51.0</td>
<td>15.0</td>
<td>62.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227014</td>
<td>2022-12-31</td>
<td>23</td>
<td>NaN</td>
<td>4</td>
<td>22</td>
<td>7</td>
<td>40</td>
<td>NaN</td>
<td>2</td>
<td>20</td>
<td>...</td>
<td>8.0</td>
<td>60.0</td>
<td>5.0</td>
<td>58.0</td>
<td>6.0</td>
<td>54.0</td>
<td>22.0</td>
<td>51.0</td>
<td>11.0</td>
<td>63.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227015</td>
<td>2022-12-31</td>
<td>24</td>
<td>NaN</td>
<td>4</td>
<td>20</td>
<td>8</td>
<td>41</td>
<td>NaN</td>
<td>4</td>
<td>18</td>
<td>...</td>
<td>3.0</td>
<td>61.0</td>
<td>5.0</td>
<td>59.0</td>
<td>3.0</td>
<td>55.0</td>
<td>22.0</td>
<td>52.0</td>
<td>17.0</td>
<td>65.0</td>
</tr>
</tbody>
</table>

<p>227016 rows × 38 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<div id="dcb9a335" class="cell" data-execution_count="2">
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 227016 entries, 0 to 227015
Data columns (total 38 columns):
 #   Column                         Non-Null Count   Dtype         
---  ------                         --------------   -----         
 0   Fecha                          209472 non-null  datetime64[ns]
 1   Hora                           227016 non-null  int64         
 2   Noroeste Ozono                 193416 non-null  float64       
 3   Noroeste dióxido de azufre     227016 non-null  int64         
 4   Noroeste dióxido de nitrógeno  227016 non-null  int64         
 5   Noroeste monóxido de carbono   227016 non-null  int64         
 6   Noroeste PM10                  227016 non-null  int64         
 7   Noreste Ozono                  193416 non-null  float64       
 8   Noreste dióxido de azufre      227016 non-null  int64         
 9   Noreste dióxido de nitrógeno   227016 non-null  int64         
 10  Noreste monóxido de carbono    227016 non-null  int64         
 11  Noreste PM10                   227016 non-null  int64         
 12  Centro Ozono                   193416 non-null  float64       
 13  Centro dióxido de azufre       227016 non-null  int64         
 14  Centro dióxido de nitrógeno    227016 non-null  int64         
 15  Centro monóxido de carbono     227016 non-null  int64         
 16  Centro PM10                    227016 non-null  int64         
 17  Suroeste Ozono                 193416 non-null  float64       
 18  Suroeste dióxido de azufre     227016 non-null  int64         
 19  Suroeste dióxido de nitrógeno  227016 non-null  int64         
 20  Suroeste monóxido de carbono   227016 non-null  int64         
 21  Suroeste PM10                  227016 non-null  int64         
 22  Sureste Ozono                  193416 non-null  float64       
 23  Sureste dióxido de azufre      227016 non-null  int64         
 24  Sureste dióxido de nitrógeno   227016 non-null  int64         
 25  Sureste monóxido de carbono    227016 non-null  int64         
 26  Sureste PM10                   227016 non-null  int64         
 27  FECHA                          17544 non-null   datetime64[ns]
 28  Noroeste ozono                 33600 non-null   float64       
 29  Noroeste PM25                  33600 non-null   float64       
 30  Noreste ozono                  33600 non-null   float64       
 31  Noreste PM25                   33600 non-null   float64       
 32  Centro ozono                   33600 non-null   float64       
 33  Centro PM25                    33600 non-null   float64       
 34  Suroeste ozono                 33600 non-null   float64       
 35  Suroeste PM25                  33600 non-null   float64       
 36  Sureste ozono                  33600 non-null   float64       
 37  Sureste PM25                   33600 non-null   float64       
dtypes: datetime64[ns](2), float64(15), int64(21)
memory usage: 65.8 MB</code></pre>
</div>
</div>
<p>Hay varios problemas:</p>
<ul>
<li><p>Cantidad relativamente grande de valores nulos para algunas columnas</p></li>
<li><p>Los nombres de las columnas no han sido capitalizados uniformemente.</p></li>
<li><p>Los valores nulos acá están marcados con <span class="math inline">\(-99\)</span>.</p></li>
</ul>
</section>
<section id="combinación-de-columnas-similares" class="slide level2">
<h2>Combinación de columnas similares</h2>
<ul>
<li>Capitalizaciones no-uniformes</li>
</ul>
<div id="1856db6c" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href=""></a>df_imeca.Fecha <span class="op">=</span> df_imeca.Fecha.combine_first(df_imeca.FECHA)</span>
<span id="cb3-2"><a href=""></a></span>
<span id="cb3-3"><a href=""></a>zonas <span class="op">=</span> [<span class="st">"Noroeste"</span>, <span class="st">"Noreste"</span>, <span class="st">"Centro"</span>, <span class="st">"Suroeste"</span>, <span class="st">"Sureste"</span>]</span>
<span id="cb3-4"><a href=""></a><span class="cf">for</span> zona <span class="kw">in</span> zonas:</span>
<span id="cb3-5"><a href=""></a>    df_imeca[<span class="ss">f"</span><span class="sc">{</span>zona<span class="sc">}</span><span class="ss"> Ozono"</span>] <span class="op">=</span> df_imeca[<span class="ss">f"</span><span class="sc">{</span>zona<span class="sc">}</span><span class="ss"> Ozono"</span>].combine_first(</span>
<span id="cb3-6"><a href=""></a>        df_imeca[<span class="ss">f"</span><span class="sc">{</span>zona<span class="sc">}</span><span class="ss"> ozono"</span>]</span>
<span id="cb3-7"><a href=""></a>    )</span>
<span id="cb3-8"><a href=""></a></span>
<span id="cb3-9"><a href=""></a>df_imeca <span class="op">=</span> df_imeca.drop(columns<span class="op">=</span>[<span class="st">"FECHA"</span>] <span class="op">+</span> [<span class="ss">f"</span><span class="sc">{</span>zona<span class="sc">}</span><span class="ss"> ozono"</span> <span class="cf">for</span> zona <span class="kw">in</span> zonas])</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Unidades de fecha-hora</li>
</ul>
<div id="14e0962d" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a><span class="co">## Específicamos que la unidad es en horas al momento de realizar la conversión</span></span>
<span id="cb4-2"><a href=""></a>df_imeca.Hora <span class="op">=</span> pd.to_timedelta(df_imeca.Hora, unit<span class="op">=</span><span class="st">'h'</span>)</span>
<span id="cb4-3"><a href=""></a></span>
<span id="cb4-4"><a href=""></a>df_imeca[<span class="st">"Fecha-Hora"</span>] <span class="op">=</span> df_imeca.Fecha <span class="op">+</span> df_imeca.Hora</span>
<span id="cb4-5"><a href=""></a><span class="co">## Esto sumará el valor de Fecha con el valor de Hora para cada índice.</span></span>
<span id="cb4-6"><a href=""></a>df_imeca <span class="op">=</span> df_imeca.drop(columns<span class="op">=</span>[<span class="st">"Fecha"</span>, <span class="st">"Hora"</span>])</span>
<span id="cb4-7"><a href=""></a><span class="co">## Borramos columnas innecesarias de nuevo.</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dataframe-post-procesamiento" class="slide level2 smaller">
<h2>Dataframe post-procesamiento</h2>
<div id="8268905f" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display" data-execution_count="34">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>21.0</td>
<td>10</td>
<td>13</td>
<td>35</td>
<td>22</td>
<td>21.0</td>
<td>16</td>
<td>14</td>
<td>21</td>
<td>57</td>
<td>...</td>
<td>10</td>
<td>19</td>
<td>63</td>
<td>21</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 07:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>22.0</td>
<td>10</td>
<td>18</td>
<td>32</td>
<td>23</td>
<td>16.0</td>
<td>16</td>
<td>16</td>
<td>25</td>
<td>59</td>
<td>...</td>
<td>10</td>
<td>18</td>
<td>72</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 08:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>25.0</td>
<td>10</td>
<td>23</td>
<td>32</td>
<td>24</td>
<td>17.0</td>
<td>16</td>
<td>24</td>
<td>26</td>
<td>62</td>
<td>...</td>
<td>11</td>
<td>23</td>
<td>75</td>
<td>23</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 09:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>40.0</td>
<td>10</td>
<td>30</td>
<td>33</td>
<td>24</td>
<td>42.0</td>
<td>16</td>
<td>26</td>
<td>24</td>
<td>61</td>
<td>...</td>
<td>11</td>
<td>27</td>
<td>77</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 10:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>58.0</td>
<td>10</td>
<td>11</td>
<td>33</td>
<td>24</td>
<td>66.0</td>
<td>16</td>
<td>25</td>
<td>23</td>
<td>62</td>
<td>...</td>
<td>11</td>
<td>15</td>
<td>71</td>
<td>22</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 11:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227011</td>
<td>19.0</td>
<td>4</td>
<td>17</td>
<td>5</td>
<td>38</td>
<td>19.0</td>
<td>2</td>
<td>18</td>
<td>4</td>
<td>46</td>
<td>...</td>
<td>2</td>
<td>11</td>
<td>4</td>
<td>26</td>
<td>58.0</td>
<td>56.0</td>
<td>54.0</td>
<td>51.0</td>
<td>61.0</td>
<td>2022-12-31 20:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227012</td>
<td>11.0</td>
<td>4</td>
<td>14</td>
<td>5</td>
<td>39</td>
<td>13.0</td>
<td>2</td>
<td>22</td>
<td>5</td>
<td>46</td>
<td>...</td>
<td>2</td>
<td>11</td>
<td>4</td>
<td>25</td>
<td>59.0</td>
<td>56.0</td>
<td>54.0</td>
<td>52.0</td>
<td>62.0</td>
<td>2022-12-31 21:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227013</td>
<td>6.0</td>
<td>4</td>
<td>20</td>
<td>6</td>
<td>40</td>
<td>8.0</td>
<td>2</td>
<td>22</td>
<td>6</td>
<td>45</td>
<td>...</td>
<td>2</td>
<td>15</td>
<td>5</td>
<td>25</td>
<td>60.0</td>
<td>57.0</td>
<td>54.0</td>
<td>51.0</td>
<td>62.0</td>
<td>2022-12-31 22:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227014</td>
<td>8.0</td>
<td>4</td>
<td>22</td>
<td>7</td>
<td>40</td>
<td>5.0</td>
<td>2</td>
<td>20</td>
<td>7</td>
<td>46</td>
<td>...</td>
<td>2</td>
<td>17</td>
<td>5</td>
<td>28</td>
<td>60.0</td>
<td>58.0</td>
<td>54.0</td>
<td>51.0</td>
<td>63.0</td>
<td>2022-12-31 23:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227015</td>
<td>3.0</td>
<td>4</td>
<td>20</td>
<td>8</td>
<td>41</td>
<td>5.0</td>
<td>4</td>
<td>18</td>
<td>10</td>
<td>49</td>
<td>...</td>
<td>2</td>
<td>17</td>
<td>6</td>
<td>29</td>
<td>61.0</td>
<td>59.0</td>
<td>55.0</td>
<td>52.0</td>
<td>65.0</td>
<td>2023-01-01 00:00:00</td>
</tr>
</tbody>
</table>

<p>227016 rows × 31 columns</p>
</div>
</div>
</div>
</section>
<section id="detección-de-valores-faltantes" class="slide level2">
<h2>Detección de valores faltantes</h2>
<ul>
<li>Marca de valores nulos:</li>
</ul>
<div id="2e207287" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href=""></a>df_imeca <span class="op">=</span> df_imeca.replace(<span class="op">-</span><span class="dv">99</span>, np.nan)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Numero de valores nulos por columna:</li>
</ul>
<div id="e66e39c6" class="cell" data-execution_count="7">
<div class="cell-output cell-output-display" data-execution_count="36">
<pre><code>Noroeste Ozono                     1579
Noroeste dióxido de azufre            4
Noroeste dióxido de nitrógeno      1569
Noroeste monóxido de carbono       2610
Noroeste PM10                       187
Noreste Ozono                      1499
Noreste dióxido de azufre             3
Noreste dióxido de nitrógeno       1596
Noreste monóxido de carbono        2597
Noreste PM10                        575
Centro Ozono                       1539
Centro dióxido de azufre             83
Centro dióxido de nitrógeno        1588
Centro monóxido de carbono         2537
Centro PM10                         984
Suroeste Ozono                     1504
Suroeste dióxido de azufre           25
Suroeste dióxido de nitrógeno      1527
Suroeste monóxido de carbono       2623
Suroeste PM10                       567
Sureste Ozono                      1618
Sureste dióxido de azufre           139
Sureste dióxido de nitrógeno       1784
Sureste monóxido de carbono        2746
Sureste PM10                       4330
Noroeste PM25                    195616
Noreste PM25                     193694
Centro PM25                      193656
Suroeste PM25                    193635
Sureste PM25                     193498
Fecha-Hora                            0
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="transformaciones-iniciales" class="slide level2">
<h2>Transformaciones iniciales</h2>
<p>Es posible que el conjunto de datos tenga variables que estén en diferentes escalas. Por ejemplo. que los contaminantes aquí tengan diferentes rangos de magnitud.</p>
<p>En estos casos, podemos aplicar una <strong>normalización</strong>, facilitada por la libreria scikit-learn.</p>
<p>Si se dejan los datos sin cambiar, podríamos ver tendencias erroneas en el análisis.</p>
</section>
<section id="normalización" class="slide level2">
<h2>Normalización</h2>
<div id="55a13005" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href=""></a><span class="co"># MinMaxScaler realiza una transformación lineal para todo el conjunto de datos,</span></span>
<span id="cb7-2"><a href=""></a><span class="co"># por defecto resultando en que todos se transformen en valores desde el 0 al 1.</span></span>
<span id="cb7-3"><a href=""></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> MinMaxScaler</span>
<span id="cb7-4"><a href=""></a>contaminantes <span class="op">=</span> [</span>
<span id="cb7-5"><a href=""></a>    <span class="st">'Noroeste Ozono'</span>,</span>
<span id="cb7-6"><a href=""></a>    <span class="st">'Noroeste dióxido de azufre'</span>,</span>
<span id="cb7-7"><a href=""></a>    <span class="st">'Noroeste dióxido de nitrógeno'</span>,</span>
<span id="cb7-8"><a href=""></a>    <span class="st">'Noroeste monóxido de carbono'</span>,</span>
<span id="cb7-9"><a href=""></a>    <span class="st">'Noroeste PM10'</span></span>
<span id="cb7-10"><a href=""></a>]</span>
<span id="cb7-11"><a href=""></a>scaler <span class="op">=</span> MinMaxScaler()</span>
<span id="cb7-12"><a href=""></a></span>
<span id="cb7-13"><a href=""></a><span class="co"># Datos después de la normalización (van del 0 al 1)</span></span>
<span id="cb7-14"><a href=""></a>scaler.fit_transform(df_imeca[contaminantes])</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>array([[0.07777778, 0.05649718, 0.08280255, 0.22580645, 0.12716763],
       [0.08148148, 0.05649718, 0.11464968, 0.20645161, 0.13294798],
       [0.09259259, 0.05649718, 0.14649682, 0.20645161, 0.13872832],
       ...,
       [0.02222222, 0.02259887, 0.12738854, 0.03870968, 0.23121387],
       [0.02962963, 0.02259887, 0.14012739, 0.04516129, 0.23121387],
       [0.01111111, 0.02259887, 0.12738854, 0.0516129 , 0.23699422]],
      shape=(227016, 5))</code></pre>
</div>
</div>
</section>
<section id="eliminación-de-outliers" class="slide level2">
<h2>Eliminación de outliers</h2>
<p>Los valores atípicos pueden hacer que extraigamos suposiciones incorrectas de los datos. Para detectarlos, podemos utilizar el método del rango intercuartílico:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href=""></a></span>
<span id="cb9-2"><a href=""></a>lista_pm10 <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> df_imeca.columns.tolist() <span class="cf">if</span> <span class="st">"PM10"</span> <span class="kw">in</span> i]</span>
<span id="cb9-3"><a href=""></a></span>
<span id="cb9-4"><a href=""></a><span class="co"># Método IQR para eliminar outliers</span></span>
<span id="cb9-5"><a href=""></a>Q1 <span class="op">=</span> df_imeca[lista_pm10].quantile(<span class="fl">0.25</span>)</span>
<span id="cb9-6"><a href=""></a>Q3 <span class="op">=</span> df_imeca[lista_pm10].quantile(<span class="fl">0.75</span>)</span>
<span id="cb9-7"><a href=""></a>IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1</span>
<span id="cb9-8"><a href=""></a></span>
<span id="cb9-9"><a href=""></a><span class="co"># Definir los límites de detección de outliers</span></span>
<span id="cb9-10"><a href=""></a>lower_bound <span class="op">=</span> Q1 <span class="op">-</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb9-11"><a href=""></a>upper_bound <span class="op">=</span> Q3 <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb9-12"><a href=""></a></span>
<span id="cb9-13"><a href=""></a><span class="co"># Filtrar outliers</span></span>
<span id="cb9-14"><a href=""></a>df_imeca[(df_imeca[lista_pm10] <span class="op">&gt;=</span> lower_bound) <span class="op">&amp;</span> (df_imeca[lista_pm10] <span class="op">&lt;=</span> upper_bound)]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="operaciones-básicas-con-datasets-y-pandas" class="slide level2">
<h2>Operaciones básicas con datasets y Pandas</h2>
<p>Post-revisión, necesitaremos usar algunos metodos básicos de Pandas para poder explorar los datos con mayor detalle.</p>
<p>Principalmente, esto involucra el uso de <strong>máscaras</strong>:</p>
<div id="211ac922" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a><span class="co"># Seleccionar columnas específicas (por ejemplo, variables de la zona Sureste)</span></span>
<span id="cb10-2"><a href=""></a>subset <span class="op">=</span> df_imeca[[col <span class="cf">for</span> col <span class="kw">in</span> df_imeca.columns <span class="cf">if</span> <span class="st">"Sureste"</span> <span class="kw">in</span> col]]</span>
<span id="cb10-3"><a href=""></a>subset.head(<span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>28.0</td>
<td>10.0</td>
<td>19.0</td>
<td>63.0</td>
<td>21.0</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>37.0</td>
<td>10.0</td>
<td>18.0</td>
<td>72.0</td>
<td>22.0</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>31.0</td>
<td>11.0</td>
<td>23.0</td>
<td>75.0</td>
<td>23.0</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section class="slide level2">

<div id="5dd27aad" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a><span class="im">import</span> datetime</span>
<span id="cb11-2"><a href=""></a></span>
<span id="cb11-3"><a href=""></a><span class="co"># Filtrar los datos por una fecha específica</span></span>
<span id="cb11-4"><a href=""></a>filtered_data <span class="op">=</span> df_imeca[df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&lt;</span> np.datetime64(<span class="st">"1997-01-01"</span>)]</span>
<span id="cb11-5"><a href=""></a>filtered_data.head(<span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>21.0</td>
<td>10.0</td>
<td>13.0</td>
<td>35.0</td>
<td>22.0</td>
<td>21.0</td>
<td>16.0</td>
<td>14.0</td>
<td>21.0</td>
<td>57.0</td>
<td>...</td>
<td>10.0</td>
<td>19.0</td>
<td>63.0</td>
<td>21.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 07:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>22.0</td>
<td>10.0</td>
<td>18.0</td>
<td>32.0</td>
<td>23.0</td>
<td>16.0</td>
<td>16.0</td>
<td>16.0</td>
<td>25.0</td>
<td>59.0</td>
<td>...</td>
<td>10.0</td>
<td>18.0</td>
<td>72.0</td>
<td>22.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 08:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>25.0</td>
<td>10.0</td>
<td>23.0</td>
<td>32.0</td>
<td>24.0</td>
<td>17.0</td>
<td>16.0</td>
<td>24.0</td>
<td>26.0</td>
<td>62.0</td>
<td>...</td>
<td>11.0</td>
<td>23.0</td>
<td>75.0</td>
<td>23.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-01 09:00:00</td>
</tr>
</tbody>
</table>

<p>3 rows × 31 columns</p>
</div>
</div>
</div>
</section>
<section id="agrupación-de-datos" class="slide level2 smaller">
<h2>Agrupación de datos</h2>
<p>Nos podemos auxiliar también de un proceso de agrupación o agregación mediante Pandas. Esto permitirá resumir estádisticas, lo cual suele ser útil para verlos según periodos de tiempo o categorías:</p>
<div id="ec0f9351" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href=""></a><span class="co"># Agrupar por mes y año</span></span>
<span id="cb12-2"><a href=""></a>grouped_df <span class="op">=</span> df_imeca.groupby(df_imeca[<span class="st">'Fecha-Hora'</span>].dt.to_period(<span class="st">'M'</span>)).mean()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="36be8244" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a>grouped_df.drop(<span class="st">"Fecha-Hora"</span>,axis<span class="op">=</span><span class="dv">1</span>,inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb13-2"><a href=""></a>sureste_columns <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> grouped_df.columns <span class="cf">if</span> <span class="st">"Sureste"</span> <span class="kw">in</span> i]</span>
<span id="cb13-3"><a href=""></a>grouped_df <span class="op">=</span> grouped_df.reset_index().set_index(<span class="st">"Fecha-Hora"</span>)</span>
<span id="cb13-4"><a href=""></a>grouped_df[sureste_columns][grouped_df.index <span class="op">&lt;</span> <span class="st">"2000-01-01"</span>].plot()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-13-output-1.png" width="798" height="444"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ordenamiento-de-datos" class="slide level2">
<h2>Ordenamiento de datos</h2>
<p>También podemos ordenar los datos en orden ascendiente o descendientes según uno o varios campos en Pandas, de la siguiente manera:</p>
<div id="52225a22" class="cell" data-execution_count="13">
<div class="cell-output cell-output-display" data-execution_count="42">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9534</td>
<td>270.0</td>
<td>31.0</td>
<td>23.0</td>
<td>32.0</td>
<td>55.0</td>
<td>167.0</td>
<td>24.0</td>
<td>32.0</td>
<td>25.0</td>
<td>63.0</td>
<td>...</td>
<td>26.0</td>
<td>23.0</td>
<td>37.0</td>
<td>48.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1997-09-27 16:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">278</td>
<td>269.0</td>
<td>26.0</td>
<td>81.0</td>
<td>80.0</td>
<td>91.0</td>
<td>146.0</td>
<td>26.0</td>
<td>18.0</td>
<td>46.0</td>
<td>141.0</td>
<td>...</td>
<td>29.0</td>
<td>20.0</td>
<td>37.0</td>
<td>70.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1996-01-19 15:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17414</td>
<td>262.0</td>
<td>18.0</td>
<td>37.0</td>
<td>77.0</td>
<td>78.0</td>
<td>183.0</td>
<td>28.0</td>
<td>17.0</td>
<td>35.0</td>
<td>102.0</td>
<td>...</td>
<td>28.0</td>
<td>35.0</td>
<td>28.0</td>
<td>54.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1998-12-03 15:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9535</td>
<td>253.0</td>
<td>31.0</td>
<td>21.0</td>
<td>32.0</td>
<td>55.0</td>
<td>130.0</td>
<td>23.0</td>
<td>28.0</td>
<td>25.0</td>
<td>63.0</td>
<td>...</td>
<td>26.0</td>
<td>29.0</td>
<td>33.0</td>
<td>46.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1997-09-27 17:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17415</td>
<td>252.0</td>
<td>18.0</td>
<td>29.0</td>
<td>70.0</td>
<td>79.0</td>
<td>169.0</td>
<td>28.0</td>
<td>18.0</td>
<td>30.0</td>
<td>102.0</td>
<td>...</td>
<td>28.0</td>
<td>50.0</td>
<td>21.0</td>
<td>55.0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>1998-12-03 16:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">226802</td>
<td>NaN</td>
<td>10.0</td>
<td>NaN</td>
<td>NaN</td>
<td>94.0</td>
<td>NaN</td>
<td>8.0</td>
<td>NaN</td>
<td>NaN</td>
<td>103.0</td>
<td>...</td>
<td>4.0</td>
<td>NaN</td>
<td>NaN</td>
<td>91.0</td>
<td>83.0</td>
<td>75.0</td>
<td>76.0</td>
<td>67.0</td>
<td>102.0</td>
<td>2022-12-23 03:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">226943</td>
<td>NaN</td>
<td>8.0</td>
<td>NaN</td>
<td>5.0</td>
<td>52.0</td>
<td>NaN</td>
<td>6.0</td>
<td>NaN</td>
<td>7.0</td>
<td>90.0</td>
<td>...</td>
<td>4.0</td>
<td>NaN</td>
<td>5.0</td>
<td>68.0</td>
<td>69.0</td>
<td>68.0</td>
<td>69.0</td>
<td>53.0</td>
<td>91.0</td>
<td>2022-12-29 00:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">226944</td>
<td>NaN</td>
<td>6.0</td>
<td>NaN</td>
<td>5.0</td>
<td>52.0</td>
<td>NaN</td>
<td>6.0</td>
<td>NaN</td>
<td>7.0</td>
<td>94.0</td>
<td>...</td>
<td>4.0</td>
<td>NaN</td>
<td>5.0</td>
<td>67.0</td>
<td>68.0</td>
<td>68.0</td>
<td>70.0</td>
<td>52.0</td>
<td>89.0</td>
<td>2022-12-29 01:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">226945</td>
<td>NaN</td>
<td>4.0</td>
<td>NaN</td>
<td>6.0</td>
<td>50.0</td>
<td>NaN</td>
<td>6.0</td>
<td>NaN</td>
<td>8.0</td>
<td>100.0</td>
<td>...</td>
<td>2.0</td>
<td>NaN</td>
<td>5.0</td>
<td>67.0</td>
<td>68.0</td>
<td>69.0</td>
<td>70.0</td>
<td>52.0</td>
<td>89.0</td>
<td>2022-12-29 02:00:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">226946</td>
<td>NaN</td>
<td>4.0</td>
<td>NaN</td>
<td>NaN</td>
<td>50.0</td>
<td>NaN</td>
<td>6.0</td>
<td>NaN</td>
<td>NaN</td>
<td>101.0</td>
<td>...</td>
<td>2.0</td>
<td>NaN</td>
<td>NaN</td>
<td>68.0</td>
<td>68.0</td>
<td>68.0</td>
<td>70.0</td>
<td>51.0</td>
<td>90.0</td>
<td>2022-12-29 03:00:00</td>
</tr>
</tbody>
</table>

<p>227016 rows × 31 columns</p>
</div>
</div>
</div>
</section>
<section id="guardado-de-resultados" class="slide level2">
<h2>Guardado de resultados</h2>
<p>Después del preprocesamiento, deberíamos guardar el dataframe (separado de los datos en bruto, por supuesto).</p>
<p>Aunque se puede guardar en .csv o .xlsx, lo más común es guardarlo en formato .parquet, que acelerará bastante su carga en Pandas a futuro:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a>df_imeca.to_parquet(<span class="st">"data/imeca1996_2022.parquet"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Dependiendo del formato de los valores, es posible que no puedan ser contenidos en un parquet. Aquí resulta útil convertir a un archivo pickle:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href=""></a>df_imeca.to_pickle(<span class="st">"data/imeca1996_2022.pkl"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="análisis-descriptivo" class="slide level2">
<h2>Análisis descriptivo</h2>
<p>Con el método <code>describe()</code>, podemos calcular estadísticas descriptivas básicas: esto incluye la media, la mediana, el minimo, el maximo, y la desviación estándar.</p>
<div id="4108b3c4" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a>df_imeca.describe()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>225437.000000</td>
<td>227012.000000</td>
<td>225447.000000</td>
<td>224406.000000</td>
<td>226829.000000</td>
<td>225517.000000</td>
<td>227013.000000</td>
<td>225420.000000</td>
<td>224419.000000</td>
<td>226441.000000</td>
<td>...</td>
<td>226877.000000</td>
<td>225232.000000</td>
<td>224270.000000</td>
<td>222686.000000</td>
<td>31400.000000</td>
<td>33322.000000</td>
<td>33360.000000</td>
<td>33381.000000</td>
<td>33518.000000</td>
<td>227016</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>32.441871</td>
<td>12.883068</td>
<td>18.045576</td>
<td>15.021425</td>
<td>55.473674</td>
<td>32.770137</td>
<td>10.978177</td>
<td>16.079310</td>
<td>14.584906</td>
<td>69.503712</td>
<td>...</td>
<td>7.476232</td>
<td>17.614726</td>
<td>15.283154</td>
<td>53.652098</td>
<td>66.227452</td>
<td>66.560170</td>
<td>65.294424</td>
<td>59.282346</td>
<td>67.066770</td>
<td>2009-11-16 06:54:52.293054208</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>17.000000</td>
<td>11.000000</td>
<td>11.000000</td>
<td>12.000000</td>
<td>11.000000</td>
<td>1996-01-01 07:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">25%</td>
<td>11.000000</td>
<td>5.000000</td>
<td>12.000000</td>
<td>6.000000</td>
<td>39.000000</td>
<td>12.000000</td>
<td>4.000000</td>
<td>10.000000</td>
<td>6.000000</td>
<td>51.000000</td>
<td>...</td>
<td>2.000000</td>
<td>11.000000</td>
<td>6.000000</td>
<td>37.000000</td>
<td>58.000000</td>
<td>57.000000</td>
<td>57.000000</td>
<td>52.000000</td>
<td>57.000000</td>
<td>2003-05-30 18:45:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">50%</td>
<td>22.000000</td>
<td>9.000000</td>
<td>16.000000</td>
<td>11.000000</td>
<td>53.000000</td>
<td>25.000000</td>
<td>7.000000</td>
<td>15.000000</td>
<td>11.000000</td>
<td>67.000000</td>
<td>...</td>
<td>5.000000</td>
<td>16.000000</td>
<td>12.000000</td>
<td>52.000000</td>
<td>66.000000</td>
<td>66.000000</td>
<td>65.000000</td>
<td>59.000000</td>
<td>67.000000</td>
<td>2009-11-19 12:30:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75%</td>
<td>43.000000</td>
<td>17.000000</td>
<td>21.000000</td>
<td>20.000000</td>
<td>68.000000</td>
<td>46.000000</td>
<td>15.000000</td>
<td>20.000000</td>
<td>19.000000</td>
<td>87.000000</td>
<td>...</td>
<td>10.000000</td>
<td>22.000000</td>
<td>21.000000</td>
<td>66.000000</td>
<td>74.000000</td>
<td>77.000000</td>
<td>75.000000</td>
<td>67.000000</td>
<td>78.000000</td>
<td>2016-05-11 06:15:00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">max</td>
<td>270.000000</td>
<td>177.000000</td>
<td>157.000000</td>
<td>155.000000</td>
<td>173.000000</td>
<td>245.000000</td>
<td>122.000000</td>
<td>141.000000</td>
<td>139.000000</td>
<td>230.000000</td>
<td>...</td>
<td>88.000000</td>
<td>132.000000</td>
<td>127.000000</td>
<td>385.000000</td>
<td>139.000000</td>
<td>185.000000</td>
<td>144.000000</td>
<td>144.000000</td>
<td>162.000000</td>
<td>2023-01-01 00:00:00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">std</td>
<td>31.466488</td>
<td>12.066079</td>
<td>10.046197</td>
<td>11.991024</td>
<td>22.293526</td>
<td>27.389210</td>
<td>10.590443</td>
<td>8.342091</td>
<td>11.314370</td>
<td>25.838547</td>
<td>...</td>
<td>6.926579</td>
<td>9.929342</td>
<td>11.831280</td>
<td>22.368569</td>
<td>12.999609</td>
<td>17.519201</td>
<td>15.387864</td>
<td>14.905997</td>
<td>18.266771</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>8 rows × 31 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Podemos usar las máscaras anteriormente descritas si queremos ver estas estadísticas solo para determinadas columnas o periodos de tiempo.</p>
<div id="0bbc3757" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a>df_imeca[sureste_columns][df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&gt;</span> <span class="st">"2010-01-01"</span>].describe()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>110875.000000</td>
<td>112356.000000</td>
<td>110720.000000</td>
<td>109750.000000</td>
<td>109166.000000</td>
<td>33518.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>32.200866</td>
<td>4.126064</td>
<td>13.967576</td>
<td>7.529303</td>
<td>55.750627</td>
<td>67.066770</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>27.495795</td>
<td>3.922531</td>
<td>6.949791</td>
<td>4.499194</td>
<td>25.245232</td>
<td>18.266771</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>4.000000</td>
<td>11.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>12.000000</td>
<td>2.000000</td>
<td>9.000000</td>
<td>5.000000</td>
<td>36.000000</td>
<td>57.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>24.000000</td>
<td>3.000000</td>
<td>13.000000</td>
<td>6.000000</td>
<td>51.000000</td>
<td>67.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>44.000000</td>
<td>5.000000</td>
<td>18.000000</td>
<td>9.000000</td>
<td>73.000000</td>
<td>78.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>167.000000</td>
<td>60.000000</td>
<td>70.000000</td>
<td>42.000000</td>
<td>132.000000</td>
<td>162.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="histogramas-mediante-matplotlib" class="slide level2">
<h2>Histogramas mediante Matplotlib</h2>
<p>Un <strong>histograma</strong> representa de manera gráfica, con barras, la cantidad de veces que se repite un valor a lo largo del conjunto de datos.</p>
<div id="04c3ddb5" class="cell" data-execution_count="16">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-17-output-1.png" width="964" height="459"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="distribución-de-frecuencias" class="slide level2">
<h2>Distribución de frecuencias</h2>
<p>Sí queremos calcular la frecuencia de rangos de valores (o intervalos), podemos usar los metodos <code>value_counts</code> o <code>cut</code> antes de graficar..</p>
<div id="1398f8eb" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href=""></a>df_imeca[<span class="st">'Noroeste Ozono'</span>].value_counts(bins<span class="op">=</span><span class="dv">10</span>).plot()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-18-output-1.png" width="823" height="412"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="clasificación-de-datos-numéricos" class="slide level2">
<h2>Clasificación de datos numéricos</h2>
<p>Dependiendo del tipo de análisis o herramientas que se deseen utilizar para este, puede ser necesaria la creación de categorias dentro del conjunto de datos.</p>
<div id="c0f083d8" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a><span class="co"># Aplicar una función que clasifique la calidad del aire en 'Buena', 'Mala', 'Peligrosa'</span></span>
<span id="cb19-2"><a href=""></a><span class="co"># Estas clasificaciones vienen de la Agencia de Protección Ambiental de Estados Unidos, y son distintas para cada campo.</span></span>
<span id="cb19-3"><a href=""></a><span class="kw">def</span> clasificar_calidad(pm10):</span>
<span id="cb19-4"><a href=""></a>    <span class="cf">if</span> pm10 <span class="op">&lt;</span> <span class="dv">50</span>:</span>
<span id="cb19-5"><a href=""></a>        <span class="cf">return</span> <span class="st">'Buena'</span></span>
<span id="cb19-6"><a href=""></a>    <span class="cf">elif</span> <span class="dv">50</span> <span class="op">&lt;=</span> pm10 <span class="op">&lt;</span> <span class="dv">100</span>:</span>
<span id="cb19-7"><a href=""></a>        <span class="cf">return</span> <span class="st">'Mala'</span></span>
<span id="cb19-8"><a href=""></a>    <span class="cf">else</span>:</span>
<span id="cb19-9"><a href=""></a>        <span class="cf">return</span> <span class="st">'Peligrosa'</span></span>
<span id="cb19-10"><a href=""></a></span>
<span id="cb19-11"><a href=""></a>sureste_pm10_clasificado <span class="op">=</span> df_imeca[<span class="st">'Sureste PM10'</span>].<span class="bu">apply</span>(clasificar_calidad)</span>
<span id="cb19-12"><a href=""></a>sureste_pm10_clasificado</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="47">
<pre><code>0         Buena
1         Buena
2         Buena
3         Buena
4         Buena
          ...  
227011    Buena
227012    Buena
227013    Buena
227014    Buena
227015    Buena
Name: Sureste PM10, Length: 227016, dtype: object</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div id="f670c6f6" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a>sureste_pm10_clasificado.value_counts().plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-20-output-1.png" width="823" height="476"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="codificación-de-variables-categóricas" class="slide level2">
<h2>Codificación de variables categóricas:</h2>
<p>Para algunas tareas de predicción, es necesario transformar variables categóricas a númericas. Una tecnica común es la codificación one-hot, que convierte estás a una mascara de bits:</p>
<div id="fddf6ce6" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href=""></a><span class="co"># Convertir las variables categóricas a variables dummy (one-hot encoding)</span></span>
<span id="cb22-2"><a href=""></a>df_ohotest <span class="op">=</span> pd.DataFrame.copy(df_imeca)</span>
<span id="cb22-3"><a href=""></a>df_ohotest[<span class="st">'Noreste PM10'</span>] <span class="op">=</span> df_ohotest[<span class="st">'Noreste PM10'</span>].<span class="bu">apply</span>(clasificar_calidad)</span>
<span id="cb22-4"><a href=""></a>df_with_dummies <span class="op">=</span> pd.get_dummies(df_ohotest, columns<span class="op">=</span>[<span class="st">'Noreste PM10'</span>])</span>
<span id="cb22-5"><a href=""></a>df_with_dummies[df_with_dummies.columns[<span class="op">-</span><span class="dv">3</span>:]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="49">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noreste PM10_Buena</th>
<th data-quarto-table-cell-role="th">Noreste PM10_Mala</th>
<th data-quarto-table-cell-role="th">Noreste PM10_Peligrosa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>False</td>
<td>True</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227011</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227012</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227013</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227014</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227015</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>

<p>227016 rows × 3 columns</p>
</div>
</div>
</div>
</section>
<section id="generar-matrices-de-correlación" class="slide level2">
<h2>Generar matrices de correlación</h2>
<p>Una matriz de correlación mide la dependencia lineal entre cada par de variables en un conjunto de datos.</p>
<p>Es una herramienta visual importante para identificar relaciones lineales fuertes (positivas o negativas) entre variables.</p>
<p>Esta medida de correlación se lee de la siguiente manera:</p>
<ul>
<li><p>Si es cercano a 1, indica que cuando una de las variables sube, la otra también.</p></li>
<li><p>Si es cercano a -1, indica que una variable baja cuando la otra sube.</p></li>
<li><p>Si es cercano a 0, indica que no hay correlación entre las variables.</p></li>
</ul>
</section>
<section class="slide level2">

<div id="1093a1f5" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a><span class="co"># Calcular la matriz de correlación para las variables numéricas en el dataframe</span></span>
<span id="cb23-2"><a href=""></a>correlacion <span class="op">=</span> df_imeca[</span>
<span id="cb23-3"><a href=""></a>    [<span class="st">"Noroeste Ozono"</span>, <span class="st">"Noroeste PM10"</span>, <span class="st">"Centro Ozono"</span>, <span class="st">"Centro PM10"</span>, <span class="st">"Sureste PM25"</span>]</span>
<span id="cb23-4"><a href=""></a>].corr()</span>
<span id="cb23-5"><a href=""></a></span>
<span id="cb23-6"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb23-7"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb23-8"><a href=""></a></span>
<span id="cb23-9"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">3</span>))</span>
<span id="cb23-10"><a href=""></a>sns.heatmap(correlacion, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">"coolwarm"</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb23-11"><a href=""></a>plt.title(</span>
<span id="cb23-12"><a href=""></a>    <span class="st">"Matriz de Correlación entre Contaminantes en Diferentes Regiones"</span>, fontsize<span class="op">=</span><span class="dv">16</span></span>
<span id="cb23-13"><a href=""></a>)</span>
<span id="cb23-14"><a href=""></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-22-output-1.png" width="1062" height="289"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="generar-coeficientes-de-correlación" class="slide level2">
<h2>Generar coeficientes de correlación</h2>
<ul>
<li>El coeficiente de <strong>Pearson</strong> mide la relación lineal entre dos variables continuas. Asume que los datos son normalmente distribuidos.</li>
</ul>
<div id="d27c7cf5" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a>pearson_corr <span class="op">=</span> df_imeca[<span class="st">"Noroeste Ozono"</span>].corr(</span>
<span id="cb24-2"><a href=""></a>    df_imeca[<span class="st">"Noroeste PM10"</span>], method<span class="op">=</span><span class="st">"pearson"</span></span>
<span id="cb24-3"><a href=""></a>)</span>
<span id="cb24-4"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Correlación de Pearson entre Noroeste Ozono y Noroeste PM10: </span><span class="sc">{</span>pearson_corr<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlación de Pearson entre Noroeste Ozono y Noroeste PM10: 0.10637508114380317</code></pre>
</div>
</div>
<p>Esta correlación se lee igual que en el ultimo ejemplo. Por lo tanto, aquí podemos ver que no hay correlación entre estás dos variables.</p>
</section>
<section class="slide level2">

<div id="165d2852" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href=""></a>pearson_corr <span class="op">=</span> df_imeca[<span class="st">"Noroeste PM10"</span>].corr(</span>
<span id="cb26-2"><a href=""></a>    df_imeca[<span class="st">"Noroeste PM25"</span>], method<span class="op">=</span><span class="st">"pearson"</span></span>
<span id="cb26-3"><a href=""></a>)</span>
<span id="cb26-4"><a href=""></a><span class="bu">print</span>(<span class="ss">f"Correlación de Pearson entre Noroeste PM10 y Noroeste PM25: </span><span class="sc">{</span>pearson_corr<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Correlación de Pearson entre Noroeste PM10 y Noroeste PM25: 0.7239571214878847</code></pre>
</div>
</div>
<p>PM10 y PM25 son dos variables que miden esencialmente dos tamaños de lo mismo (particulas, de diametro de 1.0 µm y 2.5 µm, respectivamente), así que es esperable que tengan una correlación positiva.</p>
<aside class="notes">
<ul>
<li>El coeficiente de <strong>Spearman</strong> mide de manera no paramétrica la correlación, usando el rango de los valores en lugar de los valores directamente. Por lo tanto, no importa que su distribución.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="relación-entre-variables-continuas-y-categóricas" class="slide level2">
<h2>Relación entre variables continuas y categóricas</h2>
<p>Ya que estamos trabajando con un conjunto de variables continuas, primero debemos crear una variable categórica (niveles de ozono). Luego, graficaremos un boxplot para ver la distribución de otra variable continua según estas categorías.</p>
<div id="e73ec88b" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href=""></a>df_imeca[<span class="st">'Niveles_Ozono'</span>] <span class="op">=</span> pd.cut(</span>
<span id="cb28-2"><a href=""></a>    df_imeca[<span class="st">'Noroeste Ozono'</span>], </span>
<span id="cb28-3"><a href=""></a>    bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>, np.inf], </span>
<span id="cb28-4"><a href=""></a>    labels<span class="op">=</span>[<span class="st">'Bajo'</span>, <span class="st">'Moderado'</span>, <span class="st">'Alto'</span>, <span class="st">'Muy Alto'</span>]</span>
<span id="cb28-5"><a href=""></a>)</span>
<span id="cb28-6"><a href=""></a></span>
<span id="cb28-7"><a href=""></a><span class="co"># Mostrar la distribución de la nueva variable categórica</span></span>
<span id="cb28-8"><a href=""></a><span class="bu">print</span>(df_imeca[<span class="st">'Niveles_Ozono'</span>].value_counts())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Niveles_Ozono
Bajo        180104
Moderado     33777
Alto          9863
Muy Alto      1667
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div id="239c83ff" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">14</span>, <span class="dv">4</span>))</span>
<span id="cb30-2"><a href=""></a>sns.boxplot(x<span class="op">=</span><span class="st">"Niveles_Ozono"</span>, y<span class="op">=</span><span class="st">"Noroeste PM10"</span>, data<span class="op">=</span>df_imeca)</span>
<span id="cb30-3"><a href=""></a>plt.title(</span>
<span id="cb30-4"><a href=""></a>    <span class="st">"Concentración de PM10 según los Niveles de Ozono en la Región Noroeste"</span>,</span>
<span id="cb30-5"><a href=""></a>    fontsize<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb30-6"><a href=""></a>)</span>
<span id="cb30-7"><a href=""></a>plt.xlabel(<span class="st">"Niveles de Ozono"</span>)</span>
<span id="cb30-8"><a href=""></a>plt.ylabel(<span class="st">"Concentración de PM10"</span>)</span>
<span id="cb30-9"><a href=""></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-26-output-1.png" width="1114" height="381"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-tablas-de-contingencia" class="slide level2">
<h2>Análisis de tablas de contingencia</h2>
<p>Sí queremos observar la relación dos variables categóricas, podemos usar una tabla de contingencia, la cual nos dejará ver cuantas veces, según las filas, coinciden dos categorías determinadas.</p>
<div id="e7edd302" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href=""></a><span class="co"># Crear categorías para los niveles de PM10 en la región Noroeste</span></span>
<span id="cb31-2"><a href=""></a>df_imeca[<span class="st">"Niveles_PM10"</span>] <span class="op">=</span> pd.cut(</span>
<span id="cb31-3"><a href=""></a>    df_imeca[<span class="st">"Noroeste PM10"</span>],</span>
<span id="cb31-4"><a href=""></a>    bins<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span>, <span class="dv">200</span>],</span>
<span id="cb31-5"><a href=""></a>    labels<span class="op">=</span>[<span class="st">"Bajo"</span>, <span class="st">"Moderado"</span>, <span class="st">"Alto"</span>, <span class="st">"Muy Alto"</span>],</span>
<span id="cb31-6"><a href=""></a>)</span>
<span id="cb31-7"><a href=""></a></span>
<span id="cb31-8"><a href=""></a>tabla_contingencia <span class="op">=</span> pd.crosstab(df_imeca[<span class="st">"Niveles_Ozono"</span>], df_imeca[<span class="st">"Niveles_PM10"</span>])</span>
<span id="cb31-9"><a href=""></a><span class="bu">print</span>(tabla_contingencia)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Niveles_PM10    Bajo  Moderado  Alto  Muy Alto
Niveles_Ozono                                 
Bajo           85447     84643  9829         9
Moderado       13666     18572  1527         2
Alto            2287      6607   963         6
Muy Alto         256      1303   108         0</code></pre>
</div>
</div>
</section>
<section id="análisis-temporal" class="slide level2">
<h2>Análisis temporal</h2>
<p>Sí quisieramos, por ejemplo, ver si disminuye o incrementa la contaminación en el aire a lo largo del tiempo, podríamos ordenar los datos según la columna de fecha-hora y/o agruparlos según més, semana, etc.</p>
</section>
<section id="agrupación-según-meses-o-años" class="slide level2 smaller">
<h2>Agrupación según meses o años</h2>
<p>Al agrupar los datos, se necesita sacar la media de los contaminantes para cada periodo de agrupación (meses o años) para posteriormente observar que tendencias existen.</p>
<div id="1f134778" class="cell" data-execution_count="27">
<div class="cell-output cell-output-display" data-execution_count="56">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1996-01-31</td>
<td>73.324731</td>
<td>21.131183</td>
<td>40.139785</td>
<td>58.952688</td>
<td>64.167742</td>
<td>51.972043</td>
<td>27.154839</td>
<td>26.868817</td>
<td>46.030108</td>
<td>122.393548</td>
<td>...</td>
<td>74.752688</td>
<td>28.873118</td>
<td>41.481720</td>
<td>45.916129</td>
<td>59.367742</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1996-02-29</td>
<td>64.468966</td>
<td>16.760920</td>
<td>32.997701</td>
<td>47.554023</td>
<td>73.905747</td>
<td>51.422989</td>
<td>22.556322</td>
<td>25.696552</td>
<td>42.542529</td>
<td>110.960920</td>
<td>...</td>
<td>72.278161</td>
<td>18.347126</td>
<td>33.163218</td>
<td>40.740230</td>
<td>67.029885</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1996-03-31</td>
<td>62.810753</td>
<td>18.843011</td>
<td>26.810753</td>
<td>42.621505</td>
<td>92.105376</td>
<td>50.625806</td>
<td>22.365591</td>
<td>25.501075</td>
<td>34.234409</td>
<td>96.744086</td>
<td>...</td>
<td>59.711828</td>
<td>13.569892</td>
<td>24.025806</td>
<td>30.726882</td>
<td>84.847312</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1996-04-30</td>
<td>61.224444</td>
<td>16.806667</td>
<td>22.135556</td>
<td>38.886667</td>
<td>95.151111</td>
<td>50.624444</td>
<td>18.713333</td>
<td>16.931111</td>
<td>34.973333</td>
<td>94.717778</td>
<td>...</td>
<td>60.040000</td>
<td>17.015556</td>
<td>23.888889</td>
<td>30.308889</td>
<td>69.395556</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1996-05-31</td>
<td>62.578495</td>
<td>17.961290</td>
<td>20.240860</td>
<td>34.156989</td>
<td>91.339785</td>
<td>51.298925</td>
<td>17.496774</td>
<td>17.608602</td>
<td>37.584946</td>
<td>98.709677</td>
<td>...</td>
<td>60.412903</td>
<td>14.627957</td>
<td>24.501075</td>
<td>30.621505</td>
<td>58.580645</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows × 30 columns</p>
</div>
</div>
</div>
</section>
<section id="evolución-temporal-de-los-contaminantes" class="slide level2">
<h2>Evolución temporal de los contaminantes</h2>
<p>Sí utilizamos el dataframe generado anteriormente en una gráfica de linea, veriamos una representación de la evolución temporal de los contaminantes,</p>
<p>Por ejemplo, para el Ozono en la región Noroeste:</p>
<div id="e3128c87" class="cell" data-execution_count="28">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-29-output-1.png" width="1107" height="455"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Podemos también generar una línea de tendencia, mediante una regresión lineal simple. De esa manera se verá de forma más clara si la tendencia es de disminución o aumento.</p>
<div id="ec3cee7c" class="cell" data-execution_count="29">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-30-output-1.png" width="1107" height="455"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Pendiente de la tendencia: -0.0789</code></pre>
</div>
</div>
</section>
<section id="comparación-de-periodos-de-tiempo" class="slide level2">
<h2>Comparación de periodos de tiempo</h2>
<p>Si estás interesado en comparar periodos específicos (por ejemplo, años antes y después de una intervención), puedes agrupar los datos por años y calcular el promedio de los contaminantes en esos periodos:</p>
<div id="e614e00f" class="cell" data-execution_count="30">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-31-output-1.png" width="1105" height="455"></p>
</figure>
</div>
</div>
</div>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="data/images/logo_lia.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://www.lia-ve.org">Laboratorio Venezolano de Inteligencia Artificial</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copiado");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copiado");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>