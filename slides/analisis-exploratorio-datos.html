<!DOCTYPE html>
<html lang="es"><head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="analisis-exploratorio-datos_files/libs/clipboard/clipboard.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/tabby.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/popper.min.js"></script>
<script src="analisis-exploratorio-datos_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="analisis-exploratorio-datos_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="analisis-exploratorio-datos_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="analisis-exploratorio-datos_files/libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.39">

  <meta name="author" content="Rainer Palm">
  <title>Análisis exploratorio de datos</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="analisis-exploratorio-datos_files/libs/revealjs/dist/theme/quarto-a5c23263aa69249f0e6120277585a5a9.css">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
  
  <script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Análisis exploratorio de datos</h1>
  <p class="subtitle">Extrayendo significado del dato bruto</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Rainer Palm 
</div>
<div class="quarto-title-author-email">
<a href="mailto:rdppetrizzo@gmail.org">rdppetrizzo@gmail.org</a>
</div>
        <p class="quarto-title-affiliation">
            Laboratorio Venezolano de Inteligencia Artificial
          </p>
    </div>
</div>

</section>
<section id="introducción" class="slide level2">
<h2>Introducción</h2>
<p>En esta sesión, desarrollaremos un ejemplo de como se realiza un analísis exploratorio de datos (AED) con Python, trabajando con datos reales del Índice de Calidad del Aire de Ciudad de México.</p>
<p>Verás como se realiza cada paso de este proceso, desde su <strong>carga</strong> y <strong>preparación</strong>, hasta su <strong>visualización</strong>, culminando con un <strong>análisis</strong> de correlaciones mediante un modelo de regresión lineal.</p>
</section>
<section id="objetivos" class="slide level2">
<h2>Objetivos</h2>
<ol type="1">
<li><p>Hacer visualizaciones y análisis de los datos para ver relaciones, distribuciones y tendencias</p></li>
<li><p>Detectar posibles patrones y correlaciones</p></li>
<li><p>Interpretar hallazgos y generar hipótesis</p></li>
</ol>
</section>
<section id="análisis-exploratorio-de-datos" class="slide level2">
<h2>Análisis exploratorio de datos</h2>
<p>Es un proceso crítico en el cual se <strong>exploran e investigan</strong> los datos sin suposiciones previas para llegar a una comprensión más completa de estos (y sus patrones, relaciones, características, etc.).</p>
<p>Así se puede decidir de manera informada:</p>
<ul>
<li><p>Que variables son <strong>relevantes</strong>?</p></li>
<li><p>Como debería <strong>tratar</strong> las variables?</p></li>
<li><p>Que <strong>técnicas estadísticas o modelos</strong> se deberían utilizar con estos datos?</p></li>
</ul>
</section>
<section id="descripciones-generales-del-conjunto-de-datos" class="slide level2 scrollable">
<h2>Descripciones generales del conjunto de datos</h2>
<p>Usaremos el conjunto de datos después de que este ha sido sometido a un proceso de revisión y limpieza.</p>
<div id="b323a66a" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href=""></a>df_imeca <span class="op">=</span> pd.read_parquet(<span class="st">'data/imeca1996_2022.parquet'</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>Primero, deberíamos hacernos una idea general de que existe dentro del conjunto. Por ejemplo, viendo cuales son sus <strong>dimensiones</strong>, cuales son las <strong>características</strong> o variables que existen en el, y/o cuales son los tipos de datos de estás variables.</p>
<div id="98dd46d8" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="co"># El metodo .shape nos mostrará cuales son las dimensiones del conjunto.</span></span>
<span id="cb2-2"><a href=""></a><span class="co"># El primer numero da la cantidad de filas, y el segundo número da la cantidad de columnas.</span></span>
<span id="cb2-3"><a href=""></a>df_imeca.shape</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="168">
<pre><code>(227016, 61)</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div id="a59a29bc" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href=""></a><span class="co"># Con .head, podemos hacer una vista preliminar al conjunto.</span></span>
<span id="cb4-2"><a href=""></a><span class="co"># En este caso, nos mostrará las primeras 5 filas.</span></span>
<span id="cb4-3"><a href=""></a>df_imeca.head(<span class="dv">5</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="169">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM25 Calidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>21.0</td>
<td>10.0</td>
<td>13.0</td>
<td>35.0</td>
<td>22.0</td>
<td>21.0</td>
<td>16.0</td>
<td>14.0</td>
<td>21.0</td>
<td>57.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>22.0</td>
<td>10.0</td>
<td>18.0</td>
<td>32.0</td>
<td>23.0</td>
<td>16.0</td>
<td>16.0</td>
<td>16.0</td>
<td>25.0</td>
<td>59.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>25.0</td>
<td>10.0</td>
<td>23.0</td>
<td>32.0</td>
<td>24.0</td>
<td>17.0</td>
<td>16.0</td>
<td>24.0</td>
<td>26.0</td>
<td>62.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>40.0</td>
<td>10.0</td>
<td>30.0</td>
<td>33.0</td>
<td>24.0</td>
<td>42.0</td>
<td>16.0</td>
<td>26.0</td>
<td>24.0</td>
<td>61.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>58.0</td>
<td>10.0</td>
<td>11.0</td>
<td>33.0</td>
<td>24.0</td>
<td>66.0</td>
<td>16.0</td>
<td>25.0</td>
<td>23.0</td>
<td>62.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Peligrosa</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
</tbody>
</table>

<p>5 rows × 61 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Para estar seguros de la cantidad de campos, los nombres de los campos, y los tipo de datos de los campos, podemos usar el metodo <code>.info</code>:</p>
<div id="a900aba0" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href=""></a>df_imeca.info()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 227016 entries, 0 to 227015
Data columns (total 61 columns):
 #   Column                                 Non-Null Count   Dtype         
---  ------                                 --------------   -----         
 0   Noroeste Ozono                         225437 non-null  float64       
 1   Noroeste dióxido de azufre             227012 non-null  float64       
 2   Noroeste dióxido de nitrógeno          225447 non-null  float64       
 3   Noroeste monóxido de carbono           224406 non-null  float64       
 4   Noroeste PM10                          226829 non-null  float64       
 5   Noreste Ozono                          225517 non-null  float64       
 6   Noreste dióxido de azufre              227013 non-null  float64       
 7   Noreste dióxido de nitrógeno           225420 non-null  float64       
 8   Noreste monóxido de carbono            224419 non-null  float64       
 9   Noreste PM10                           226441 non-null  float64       
 10  Centro Ozono                           225477 non-null  float64       
 11  Centro dióxido de azufre               226933 non-null  float64       
 12  Centro dióxido de nitrógeno            225428 non-null  float64       
 13  Centro monóxido de carbono             224479 non-null  float64       
 14  Centro PM10                            226032 non-null  float64       
 15  Suroeste Ozono                         225512 non-null  float64       
 16  Suroeste dióxido de azufre             226991 non-null  float64       
 17  Suroeste dióxido de nitrógeno          225489 non-null  float64       
 18  Suroeste monóxido de carbono           224393 non-null  float64       
 19  Suroeste PM10                          226449 non-null  float64       
 20  Sureste Ozono                          225398 non-null  float64       
 21  Sureste dióxido de azufre              226877 non-null  float64       
 22  Sureste dióxido de nitrógeno           225232 non-null  float64       
 23  Sureste monóxido de carbono            224270 non-null  float64       
 24  Sureste PM10                           222686 non-null  float64       
 25  Noroeste PM25                          31400 non-null   float64       
 26  Noreste PM25                           33322 non-null   float64       
 27  Centro PM25                            33360 non-null   float64       
 28  Suroeste PM25                          33381 non-null   float64       
 29  Sureste PM25                           33518 non-null   float64       
 30  Fecha-Hora                             227016 non-null  datetime64[ns]
 31  Sureste Ozono Calidad                  227016 non-null  object        
 32  Sureste dióxido de azufre Calidad      227016 non-null  object        
 33  Sureste dióxido de nitrógeno Calidad   227016 non-null  object        
 34  Sureste monóxido de carbono Calidad    227016 non-null  object        
 35  Sureste PM10 Calidad                   227016 non-null  object        
 36  Sureste PM25 Calidad                   227016 non-null  object        
 37  Suroeste Ozono Calidad                 227016 non-null  object        
 38  Suroeste dióxido de azufre Calidad     227016 non-null  object        
 39  Suroeste dióxido de nitrógeno Calidad  227016 non-null  object        
 40  Suroeste monóxido de carbono Calidad   227016 non-null  object        
 41  Suroeste PM10 Calidad                  227016 non-null  object        
 42  Suroeste PM25 Calidad                  227016 non-null  object        
 43  Centro Ozono Calidad                   227016 non-null  object        
 44  Centro dióxido de azufre Calidad       227016 non-null  object        
 45  Centro dióxido de nitrógeno Calidad    227016 non-null  object        
 46  Centro monóxido de carbono Calidad     227016 non-null  object        
 47  Centro PM10 Calidad                    227016 non-null  object        
 48  Centro PM25 Calidad                    227016 non-null  object        
 49  Noroeste Ozono Calidad                 227016 non-null  object        
 50  Noroeste dióxido de azufre Calidad     227016 non-null  object        
 51  Noroeste dióxido de nitrógeno Calidad  227016 non-null  object        
 52  Noroeste monóxido de carbono Calidad   227016 non-null  object        
 53  Noroeste PM10 Calidad                  227016 non-null  object        
 54  Noroeste PM25 Calidad                  227016 non-null  object        
 55  Noreste Ozono Calidad                  227016 non-null  object        
 56  Noreste dióxido de azufre Calidad      227016 non-null  object        
 57  Noreste dióxido de nitrógeno Calidad   227016 non-null  object        
 58  Noreste monóxido de carbono Calidad    227016 non-null  object        
 59  Noreste PM10 Calidad                   227016 non-null  object        
 60  Noreste PM25 Calidad                   227016 non-null  object        
dtypes: datetime64[ns](1), float64(30), object(30)
memory usage: 105.7+ MB</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>¿Cual es el porcentaje de valores nulos dentro del dataset? Podemos realizar una operación sencilla con numpy para averiguarlo:</p>
<div id="b8bcb215" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href=""></a>np.<span class="bu">round</span>(df_imeca.isnull().mean() <span class="op">*</span> <span class="dv">100</span>,<span class="dv">1</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="171">
<pre><code>Noroeste Ozono                          0.7
Noroeste dióxido de azufre              0.0
Noroeste dióxido de nitrógeno           0.7
Noroeste monóxido de carbono            1.1
Noroeste PM10                           0.1
                                       ... 
Noreste dióxido de azufre Calidad       0.0
Noreste dióxido de nitrógeno Calidad    0.0
Noreste monóxido de carbono Calidad     0.0
Noreste PM10 Calidad                    0.0
Noreste PM25 Calidad                    0.0
Length: 61, dtype: float64</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Después, sería buena idea evaluar de manera general el contenido de los datos.</p>
<p>Panda nos ofrece un método llamado <code>.describe</code> que automaticamente calcula e muestra medidas básicas de los campos del conjunto.</p>
<p>Esto es una forma útil de ver de manera inmediata los valores minimos y máximos de cada campo, además de su valor medio, la desviación estándar y la cantidad de filas que contiene.</p>
</section>
<section class="slide level2">

<div id="dac8858c" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href=""></a>df_imeca.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>).describe()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="172">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>225437.000000</td>
<td>227012.000000</td>
<td>225447.000000</td>
<td>224406.000000</td>
<td>226829.000000</td>
<td>225517.000000</td>
<td>227013.000000</td>
<td>225420.000000</td>
<td>224419.000000</td>
<td>226441.000000</td>
<td>...</td>
<td>225398.000000</td>
<td>226877.000000</td>
<td>225232.000000</td>
<td>224270.000000</td>
<td>222686.000000</td>
<td>31400.000000</td>
<td>33322.000000</td>
<td>33360.000000</td>
<td>33381.000000</td>
<td>33518.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>32.441871</td>
<td>12.883068</td>
<td>18.045576</td>
<td>15.021425</td>
<td>55.473674</td>
<td>32.770137</td>
<td>10.978177</td>
<td>16.079310</td>
<td>14.584906</td>
<td>69.503712</td>
<td>...</td>
<td>36.035613</td>
<td>7.476232</td>
<td>17.614726</td>
<td>15.283154</td>
<td>53.652098</td>
<td>66.227452</td>
<td>66.560170</td>
<td>65.294424</td>
<td>59.282346</td>
<td>67.066770</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>31.466488</td>
<td>12.066079</td>
<td>10.046197</td>
<td>11.991024</td>
<td>22.293526</td>
<td>27.389210</td>
<td>10.590443</td>
<td>8.342091</td>
<td>11.314370</td>
<td>25.838547</td>
<td>...</td>
<td>31.509110</td>
<td>6.926579</td>
<td>9.929342</td>
<td>11.831280</td>
<td>22.368569</td>
<td>12.999609</td>
<td>17.519201</td>
<td>15.387864</td>
<td>14.905997</td>
<td>18.266771</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>...</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>0.000000</td>
<td>17.000000</td>
<td>11.000000</td>
<td>11.000000</td>
<td>12.000000</td>
<td>11.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>11.000000</td>
<td>5.000000</td>
<td>12.000000</td>
<td>6.000000</td>
<td>39.000000</td>
<td>12.000000</td>
<td>4.000000</td>
<td>10.000000</td>
<td>6.000000</td>
<td>51.000000</td>
<td>...</td>
<td>13.000000</td>
<td>2.000000</td>
<td>11.000000</td>
<td>6.000000</td>
<td>37.000000</td>
<td>58.000000</td>
<td>57.000000</td>
<td>57.000000</td>
<td>52.000000</td>
<td>57.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>22.000000</td>
<td>9.000000</td>
<td>16.000000</td>
<td>11.000000</td>
<td>53.000000</td>
<td>25.000000</td>
<td>7.000000</td>
<td>15.000000</td>
<td>11.000000</td>
<td>67.000000</td>
<td>...</td>
<td>25.000000</td>
<td>5.000000</td>
<td>16.000000</td>
<td>12.000000</td>
<td>52.000000</td>
<td>66.000000</td>
<td>66.000000</td>
<td>65.000000</td>
<td>59.000000</td>
<td>67.000000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>43.000000</td>
<td>17.000000</td>
<td>21.000000</td>
<td>20.000000</td>
<td>68.000000</td>
<td>46.000000</td>
<td>15.000000</td>
<td>20.000000</td>
<td>19.000000</td>
<td>87.000000</td>
<td>...</td>
<td>50.000000</td>
<td>10.000000</td>
<td>22.000000</td>
<td>21.000000</td>
<td>66.000000</td>
<td>74.000000</td>
<td>77.000000</td>
<td>75.000000</td>
<td>67.000000</td>
<td>78.000000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>270.000000</td>
<td>177.000000</td>
<td>157.000000</td>
<td>155.000000</td>
<td>173.000000</td>
<td>245.000000</td>
<td>122.000000</td>
<td>141.000000</td>
<td>139.000000</td>
<td>230.000000</td>
<td>...</td>
<td>263.000000</td>
<td>88.000000</td>
<td>132.000000</td>
<td>127.000000</td>
<td>385.000000</td>
<td>139.000000</td>
<td>185.000000</td>
<td>144.000000</td>
<td>144.000000</td>
<td>162.000000</td>
</tr>
</tbody>
</table>

<p>8 rows × 30 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Las anteriores medidas no podrán ser generadas para variables categóricas.</p>
<p>Sí queremos saber que categorias se presentan con más frecuencia, podemos usar el metodo <code>.value_counts</code>:</p>
<div id="f7d66aec" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href=""></a><span class="co"># Lo usaremos junto al metodo .apply para poder ver la cantidad de valores a lo largo de varias columnas.</span></span>
<span id="cb10-2"><a href=""></a>df_imeca.select_dtypes(include<span class="op">=</span><span class="st">'object'</span>).<span class="bu">apply</span>(pd.Series.value_counts)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="173">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Sureste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM25 Calidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Buena</td>
<td>168756</td>
<td>226572.0</td>
<td>222154</td>
<td>220884</td>
<td>101931</td>
<td>4254</td>
<td>167957</td>
<td>226860.0</td>
<td>223533</td>
<td>223515.0</td>
<td>...</td>
<td>221919</td>
<td>219888</td>
<td>98322</td>
<td>2155</td>
<td>175516</td>
<td>224260</td>
<td>224021</td>
<td>220732</td>
<td>51627</td>
<td>4075</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Mala</td>
<td>13354</td>
<td>NaN</td>
<td>53</td>
<td>5</td>
<td>10971</td>
<td>1271</td>
<td>18658</td>
<td>NaN</td>
<td>55</td>
<td>NaN</td>
<td>...</td>
<td>194</td>
<td>52</td>
<td>13602</td>
<td>439</td>
<td>7171</td>
<td>37</td>
<td>25</td>
<td>29</td>
<td>35528</td>
<td>1011</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mediocre</td>
<td>43246</td>
<td>305.0</td>
<td>3025</td>
<td>3381</td>
<td>109753</td>
<td>27993</td>
<td>38560</td>
<td>131.0</td>
<td>1901</td>
<td>878.0</td>
<td>...</td>
<td>3334</td>
<td>4466</td>
<td>114905</td>
<td>28806</td>
<td>42827</td>
<td>2716</td>
<td>1374</td>
<td>3658</td>
<td>139270</td>
<td>28236</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Peligrosa</td>
<td>1660</td>
<td>139.0</td>
<td>1784</td>
<td>2746</td>
<td>4361</td>
<td>193498</td>
<td>1841</td>
<td>25.0</td>
<td>1527</td>
<td>2623.0</td>
<td>...</td>
<td>1569</td>
<td>2610</td>
<td>187</td>
<td>195616</td>
<td>1502</td>
<td>3</td>
<td>1596</td>
<td>2597</td>
<td>591</td>
<td>193694</td>
</tr>
</tbody>
</table>

<p>4 rows × 30 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Utilizando el argumento <code>normalize=True</code>, podemos ver estas categorias en función del porcentaje de filas que ocupan:</p>
<div id="4253c0de" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href=""></a>df_imeca.select_dtypes(include<span class="op">=</span><span class="st">'object'</span>).<span class="bu">apply</span>(pd.Series.value_counts, normalize<span class="op">=</span><span class="va">True</span>).mul(<span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">1</span>).astype(<span class="bu">str</span>) <span class="op">+</span> <span class="st">'%'</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="174">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Sureste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Suroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM25 Calidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Buena</td>
<td>74.3%</td>
<td>99.8%</td>
<td>97.9%</td>
<td>97.3%</td>
<td>44.9%</td>
<td>1.9%</td>
<td>74.0%</td>
<td>99.9%</td>
<td>98.5%</td>
<td>98.5%</td>
<td>...</td>
<td>97.8%</td>
<td>96.9%</td>
<td>43.3%</td>
<td>0.9%</td>
<td>77.3%</td>
<td>98.8%</td>
<td>98.7%</td>
<td>97.2%</td>
<td>22.7%</td>
<td>1.8%</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Mala</td>
<td>5.9%</td>
<td>nan%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>4.8%</td>
<td>0.6%</td>
<td>8.2%</td>
<td>nan%</td>
<td>0.0%</td>
<td>nan%</td>
<td>...</td>
<td>0.1%</td>
<td>0.0%</td>
<td>6.0%</td>
<td>0.2%</td>
<td>3.2%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>0.0%</td>
<td>15.6%</td>
<td>0.4%</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mediocre</td>
<td>19.0%</td>
<td>0.1%</td>
<td>1.3%</td>
<td>1.5%</td>
<td>48.3%</td>
<td>12.3%</td>
<td>17.0%</td>
<td>0.1%</td>
<td>0.8%</td>
<td>0.4%</td>
<td>...</td>
<td>1.5%</td>
<td>2.0%</td>
<td>50.6%</td>
<td>12.7%</td>
<td>18.9%</td>
<td>1.2%</td>
<td>0.6%</td>
<td>1.6%</td>
<td>61.3%</td>
<td>12.4%</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Peligrosa</td>
<td>0.7%</td>
<td>0.1%</td>
<td>0.8%</td>
<td>1.2%</td>
<td>1.9%</td>
<td>85.2%</td>
<td>0.8%</td>
<td>0.0%</td>
<td>0.7%</td>
<td>1.2%</td>
<td>...</td>
<td>0.7%</td>
<td>1.1%</td>
<td>0.1%</td>
<td>86.2%</td>
<td>0.7%</td>
<td>0.0%</td>
<td>0.7%</td>
<td>1.1%</td>
<td>0.3%</td>
<td>85.3%</td>
</tr>
</tbody>
</table>

<p>4 rows × 30 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Es útil observar la distribución de los datos mediante un <strong>histograma</strong>, o mediante un <strong>gráfico de densidad</strong>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href=""></a>sureste_columnas <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> df_imeca.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>).columns <span class="cf">if</span> <span class="st">"Sureste"</span> <span class="kw">in</span> i]</span>
<span id="cb12-2"><a href=""></a></span>
<span id="cb12-3"><a href=""></a>hist<span class="op">=</span> df_imeca[sureste_columnas].hist(bins<span class="op">=</span><span class="dv">30</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href=""></a>kde <span class="op">=</span> df_imeca[sureste_columnas].plot(kind<span class="op">=</span><span class="st">'kde'</span>,subplots<span class="op">=</span><span class="va">True</span>,layout<span class="op">=</span>(<span class="dv">3</span>,<span class="dv">2</span>),figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">8</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Esto resulta util para identificar valores atípicos, saber que pruebas estadísticas usar, ver posibles errores con el proceso de ingesta y recolecta de datos, y además para poder escoger de manera informada el modelo predictivo a utilizar.</p>
</section>
<section class="slide level2">

<div id="652584d5" class="cell" data-execution_count="9">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-10-output-1.png" width="1261" height="653"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<div id="a425f8ab" class="cell" data-execution_count="10">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-11-output-1.png" width="1278" height="633"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="operaciones-básicas-con-datasets-y-pandas" class="slide level2">
<h2>Operaciones básicas con datasets y Pandas</h2>
<p>Post-revisión, necesitaremos usar algunos metodos básicos de Pandas para poder explorar los datos con mayor detalle.</p>
<p>Principalmente, esto involucra el uso de <strong>máscaras</strong>:</p>
<div id="75b8aa5f" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href=""></a><span class="co"># Seleccionar columnas específicas (por ejemplo, variables de la zona Sureste)</span></span>
<span id="cb14-2"><a href=""></a>subset <span class="op">=</span> df_imeca[[col <span class="cf">for</span> col <span class="kw">in</span> df_imeca.columns <span class="cf">if</span> <span class="st">"Sureste"</span> <span class="kw">in</span> col]]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section" class="slide level2 smaller">
<h2></h2>
<div id="52136d8b" class="cell" data-execution_count="12">
<div class="cell-output cell-output-display" data-execution_count="178">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
<th data-quarto-table-cell-role="th">Sureste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Sureste PM25 Calidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>28.0</td>
<td>10.0</td>
<td>19.0</td>
<td>63.0</td>
<td>21.0</td>
<td>NaN</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>37.0</td>
<td>10.0</td>
<td>18.0</td>
<td>72.0</td>
<td>22.0</td>
<td>NaN</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>31.0</td>
<td>11.0</td>
<td>23.0</td>
<td>75.0</td>
<td>23.0</td>
<td>NaN</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>42.0</td>
<td>11.0</td>
<td>27.0</td>
<td>77.0</td>
<td>22.0</td>
<td>NaN</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>57.0</td>
<td>11.0</td>
<td>15.0</td>
<td>71.0</td>
<td>22.0</td>
<td>NaN</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Buena</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227011</td>
<td>25.0</td>
<td>2.0</td>
<td>11.0</td>
<td>4.0</td>
<td>26.0</td>
<td>61.0</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227012</td>
<td>23.0</td>
<td>2.0</td>
<td>11.0</td>
<td>4.0</td>
<td>25.0</td>
<td>62.0</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227013</td>
<td>15.0</td>
<td>2.0</td>
<td>15.0</td>
<td>5.0</td>
<td>25.0</td>
<td>62.0</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">227014</td>
<td>11.0</td>
<td>2.0</td>
<td>17.0</td>
<td>5.0</td>
<td>28.0</td>
<td>63.0</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227015</td>
<td>17.0</td>
<td>2.0</td>
<td>17.0</td>
<td>6.0</td>
<td>29.0</td>
<td>65.0</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
</tr>
</tbody>
</table>

<p>227016 rows × 12 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Podemos también usar varias condiciones, usando operadores de bit (&amp; siendo igual a AND, y | siendo igual a OR).</p>
<div id="e5dbff03" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href=""></a><span class="im">import</span> datetime</span>
<span id="cb15-2"><a href=""></a></span>
<span id="cb15-3"><a href=""></a><span class="co"># Filtrar los datos por un rango de tiempo específico</span></span>
<span id="cb15-4"><a href=""></a>filtered_data <span class="op">=</span> df_imeca[(df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&gt;</span> np.datetime64(<span class="st">"1998-01-01"</span>)) <span class="op">&amp;</span> (df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&lt;</span> np.datetime64(<span class="st">"2002-01-01"</span>))]</span>
<span id="cb15-5"><a href=""></a>filtered_data.set_index(<span class="st">'Fecha-Hora'</span>,inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-1" class="slide level2 smaller">
<h2></h2>
<div id="0b57bc25" class="cell" data-execution_count="14">
<div class="cell-output cell-output-display" data-execution_count="180">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM25 Calidad</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1998-01-01 07:00:00</td>
<td>11.0</td>
<td>45.0</td>
<td>17.0</td>
<td>20.0</td>
<td>69.0</td>
<td>15.0</td>
<td>18.0</td>
<td>12.0</td>
<td>15.0</td>
<td>114.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1998-01-01 08:00:00</td>
<td>13.0</td>
<td>46.0</td>
<td>14.0</td>
<td>21.0</td>
<td>69.0</td>
<td>13.0</td>
<td>18.0</td>
<td>12.0</td>
<td>15.0</td>
<td>116.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1998-01-01 09:00:00</td>
<td>20.0</td>
<td>46.0</td>
<td>14.0</td>
<td>22.0</td>
<td>69.0</td>
<td>15.0</td>
<td>18.0</td>
<td>12.0</td>
<td>15.0</td>
<td>117.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1998-01-01 10:00:00</td>
<td>26.0</td>
<td>46.0</td>
<td>13.0</td>
<td>22.0</td>
<td>70.0</td>
<td>24.0</td>
<td>20.0</td>
<td>12.0</td>
<td>15.0</td>
<td>117.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1998-01-01 11:00:00</td>
<td>44.0</td>
<td>47.0</td>
<td>15.0</td>
<td>23.0</td>
<td>70.0</td>
<td>38.0</td>
<td>21.0</td>
<td>10.0</td>
<td>16.0</td>
<td>114.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-12-31 19:00:00</td>
<td>28.0</td>
<td>16.0</td>
<td>12.0</td>
<td>16.0</td>
<td>55.0</td>
<td>35.0</td>
<td>8.0</td>
<td>12.0</td>
<td>13.0</td>
<td>63.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-12-31 20:00:00</td>
<td>25.0</td>
<td>16.0</td>
<td>10.0</td>
<td>15.0</td>
<td>55.0</td>
<td>32.0</td>
<td>8.0</td>
<td>16.0</td>
<td>13.0</td>
<td>63.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-12-31 21:00:00</td>
<td>21.0</td>
<td>16.0</td>
<td>10.0</td>
<td>17.0</td>
<td>54.0</td>
<td>27.0</td>
<td>8.0</td>
<td>20.0</td>
<td>14.0</td>
<td>64.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2001-12-31 22:00:00</td>
<td>10.0</td>
<td>16.0</td>
<td>17.0</td>
<td>20.0</td>
<td>54.0</td>
<td>27.0</td>
<td>8.0</td>
<td>21.0</td>
<td>15.0</td>
<td>64.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2001-12-31 23:00:00</td>
<td>12.0</td>
<td>16.0</td>
<td>18.0</td>
<td>24.0</td>
<td>53.0</td>
<td>25.0</td>
<td>8.0</td>
<td>23.0</td>
<td>20.0</td>
<td>64.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
</tbody>
</table>

<p>33434 rows × 60 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Otra operación básica de gran importancia es la <strong>agrupación</strong>. Esta divide el dataframe en segmentos (grupos) y luego les aplica una función para convertir estos segmentos en un solo valor.</p>
<div id="fd200174" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href=""></a><span class="co"># Agrupar el dataframe según los meses en las columnas de fecha y hora. </span></span>
<span id="cb16-2"><a href=""></a><span class="co"># La función que agrupa las filas en este caso es "mean", lo cual significa</span></span>
<span id="cb16-3"><a href=""></a><span class="co"># que para cada més, tendremos la media de todos los valores de este més.</span></span>
<span id="cb16-4"><a href=""></a>df_imeca_mes <span class="op">=</span> df_imeca.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>).groupby(df_imeca[<span class="st">'Fecha-Hora'</span>].dt.to_period(<span class="st">'M'</span>)).mean()</span>
<span id="cb16-5"><a href=""></a>df_imeca_mes.head(<span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="181">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Sureste Ozono</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Sureste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Sureste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Sureste PM10</th>
<th data-quarto-table-cell-role="th">Noroeste PM25</th>
<th data-quarto-table-cell-role="th">Noreste PM25</th>
<th data-quarto-table-cell-role="th">Centro PM25</th>
<th data-quarto-table-cell-role="th">Suroeste PM25</th>
<th data-quarto-table-cell-role="th">Sureste PM25</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">Fecha-Hora</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1996-01</td>
<td>73.324731</td>
<td>21.131183</td>
<td>40.139785</td>
<td>58.952688</td>
<td>64.167742</td>
<td>51.972043</td>
<td>27.154839</td>
<td>26.868817</td>
<td>46.030108</td>
<td>122.393548</td>
<td>...</td>
<td>74.752688</td>
<td>28.873118</td>
<td>41.481720</td>
<td>45.916129</td>
<td>59.367742</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1996-02</td>
<td>64.468966</td>
<td>16.760920</td>
<td>32.997701</td>
<td>47.554023</td>
<td>73.905747</td>
<td>51.422989</td>
<td>22.556322</td>
<td>25.696552</td>
<td>42.542529</td>
<td>110.960920</td>
<td>...</td>
<td>72.278161</td>
<td>18.347126</td>
<td>33.163218</td>
<td>40.740230</td>
<td>67.029885</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1996-03</td>
<td>62.810753</td>
<td>18.843011</td>
<td>26.810753</td>
<td>42.621505</td>
<td>92.105376</td>
<td>50.625806</td>
<td>22.365591</td>
<td>25.501075</td>
<td>34.234409</td>
<td>96.744086</td>
<td>...</td>
<td>59.711828</td>
<td>13.569892</td>
<td>24.025806</td>
<td>30.726882</td>
<td>84.847312</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>3 rows × 30 columns</p>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Finalmente, la ultima operación básica que veremos es el <strong>ordenamiento</strong>. Simplemente se trata de ordenar el dataframe en order ascendente o descendente según una (o varias) columnas.</p>
<div id="0240e32d" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href=""></a><span class="co"># Ordenar los datos por el nivel de Ozono en el Noroeste de mayor a menor</span></span>
<span id="cb17-2"><a href=""></a>df_imeca.sort_values(by<span class="op">=</span><span class="st">'Noroeste Ozono'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">3</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="182">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Noroeste Ozono</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noroeste PM10</th>
<th data-quarto-table-cell-role="th">Noreste Ozono</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono</th>
<th data-quarto-table-cell-role="th">Noreste PM10</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">Noroeste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noroeste PM25 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste Ozono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de azufre Calidad</th>
<th data-quarto-table-cell-role="th">Noreste dióxido de nitrógeno Calidad</th>
<th data-quarto-table-cell-role="th">Noreste monóxido de carbono Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM10 Calidad</th>
<th data-quarto-table-cell-role="th">Noreste PM25 Calidad</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9534</td>
<td>270.0</td>
<td>31.0</td>
<td>23.0</td>
<td>32.0</td>
<td>55.0</td>
<td>167.0</td>
<td>24.0</td>
<td>32.0</td>
<td>25.0</td>
<td>63.0</td>
<td>...</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Mala</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Peligrosa</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">278</td>
<td>269.0</td>
<td>26.0</td>
<td>81.0</td>
<td>80.0</td>
<td>91.0</td>
<td>146.0</td>
<td>26.0</td>
<td>18.0</td>
<td>46.0</td>
<td>141.0</td>
<td>...</td>
<td>Mediocre</td>
<td>Mediocre</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Mala</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17414</td>
<td>262.0</td>
<td>18.0</td>
<td>37.0</td>
<td>77.0</td>
<td>78.0</td>
<td>183.0</td>
<td>28.0</td>
<td>17.0</td>
<td>35.0</td>
<td>102.0</td>
<td>...</td>
<td>Buena</td>
<td>Mediocre</td>
<td>Mediocre</td>
<td>Peligrosa</td>
<td>Mala</td>
<td>Buena</td>
<td>Buena</td>
<td>Buena</td>
<td>Mala</td>
<td>Peligrosa</td>
</tr>
</tbody>
</table>

<p>3 rows × 61 columns</p>
</div>
</div>
</div>
</section>
<section id="visualizaciones-temporales" class="slide level2">
<h2>Visualizaciones temporales</h2>
<p>¿A lo largo de los años, la contaminación tiene una tendencia creciente o decreciente? Podemos emplear una visualización sencilla para responder esta incognita.</p>
<div id="78d87ae1" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href=""></a><span class="co"># Realizamos una agrupación según més para ver tendencias según ese periodo de tiempo. </span></span>
<span id="cb18-2"><a href=""></a>df_imeca_mes <span class="op">=</span> (</span>
<span id="cb18-3"><a href=""></a>    df_imeca.select_dtypes(include<span class="op">=</span>[<span class="st">"datetime"</span>, <span class="bu">float</span>])</span>
<span id="cb18-4"><a href=""></a>    .resample(<span class="st">"ME"</span>, on<span class="op">=</span><span class="st">"Fecha-Hora"</span>)</span>
<span id="cb18-5"><a href=""></a>    .mean()</span>
<span id="cb18-6"><a href=""></a>)</span>
<span id="cb18-7"><a href=""></a>df_imeca_mes[<span class="st">'Noroeste PM10'</span>].reset_index().set_index(<span class="st">'Fecha-Hora'</span>).plot(figsize<span class="op">=</span>(<span class="dv">14</span>,<span class="dv">2</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-18-output-1.png" width="1095" height="208"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>En casos como este, donde resulta dificil observar su comportamiento a lo largo del tiempo a simple vista, podemos generar una linea de tendencia a partir de una regresión lineal simple.</p>
<div id="1e3f3cc8" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href=""></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb19-2"><a href=""></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb19-3"><a href=""></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb19-4"><a href=""></a></span>
<span id="cb19-5"><a href=""></a>df_imeca_mes <span class="op">=</span> df_imeca_mes.dropna(subset<span class="op">=</span>[<span class="st">"Noroeste PM10"</span>])</span>
<span id="cb19-6"><a href=""></a></span>
<span id="cb19-7"><a href=""></a><span class="co"># Se usa el metodo 'reshape' para asegurar que sklean trate las variables como unidimensionales</span></span>
<span id="cb19-8"><a href=""></a>X <span class="op">=</span> np.arange(<span class="bu">len</span>(df_imeca_mes)).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)  <span class="co"># Tiempo en forma de índice</span></span>
<span id="cb19-9"><a href=""></a>y <span class="op">=</span> df_imeca_mes[<span class="st">"Noroeste PM10"</span>].values.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)  <span class="co"># Ozono en la región Noroeste</span></span>
<span id="cb19-10"><a href=""></a></span>
<span id="cb19-11"><a href=""></a>modelo <span class="op">=</span> LinearRegression()</span>
<span id="cb19-12"><a href=""></a>modelo.fit(X, y)</span>
<span id="cb19-13"><a href=""></a></span>
<span id="cb19-14"><a href=""></a>predicciones <span class="op">=</span> modelo.predict(X)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div id="78cc74d7" class="cell" data-execution_count="19">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-20-output-1.png" width="1116" height="455"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Pendiente de la tendencia: 0.0405</code></pre>
</div>
</div>
<p>Por el valor de la pendiente que fue encontrado, se comprueba que la tendencia para este contaminante en la región Noroeste es creciente.</p>
</section>
<section class="slide level2">

<p>¿Que años presentarón peor calidad del aire, en promedio? Aquí es prudente hacer un gráfico de barras:</p>
<div id="42a33809" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href=""></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb21-2"><a href=""></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb21-3"><a href=""></a></span>
<span id="cb21-4"><a href=""></a><span class="co">#| echo: true</span></span>
<span id="cb21-5"><a href=""></a><span class="co"># Realizamos una agrupación según més para ver tendencias según ese periodo de tiempo. </span></span>
<span id="cb21-6"><a href=""></a>df_imeca_year <span class="op">=</span> (</span>
<span id="cb21-7"><a href=""></a>    df_imeca.select_dtypes(include<span class="op">=</span>[<span class="st">"datetime"</span>, <span class="bu">float</span>])</span>
<span id="cb21-8"><a href=""></a>    .resample(<span class="st">"Y"</span>, on<span class="op">=</span><span class="st">"Fecha-Hora"</span>)</span>
<span id="cb21-9"><a href=""></a>    .mean()</span>
<span id="cb21-10"><a href=""></a>)</span>
<span id="cb21-11"><a href=""></a>noroeste_pm10_year <span class="op">=</span> df_imeca_year[<span class="st">'Noroeste PM10'</span>].reset_index().set_index(<span class="st">'Fecha-Hora'</span>)</span>
<span id="cb21-12"><a href=""></a><span class="co"># Filtramos para un periodo de tiempo más pequeño (para ver con más claridad la gráfica resultante)</span></span>
<span id="cb21-13"><a href=""></a>noroeste_pm10_year <span class="op">=</span> noroeste_pm10_year[(noroeste_pm10_year.index <span class="op">&gt;</span> <span class="st">'1999-12-01'</span>) <span class="op">&amp;</span> (noroeste_pm10_year.index <span class="op">&lt;</span> <span class="st">'2022-01-01'</span>)]</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div id="dec55605" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href=""></a>f, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb22-2"><a href=""></a><span class="co"># Definición de gráfica de barra</span></span>
<span id="cb22-3"><a href=""></a>ax.bar(noroeste_pm10_year.index, noroeste_pm10_year.squeeze(), width<span class="op">=</span><span class="dv">160</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb22-4"><a href=""></a><span class="co"># Definición de leyenda</span></span>
<span id="cb22-5"><a href=""></a>ax.set_title(<span class="st">'Impacto promedio del contaminante PM10 en el Noroeste por año'</span>)</span>
<span id="cb22-6"><a href=""></a>ax.set_ylabel(<span class="st">"ICA"</span>)</span>
<span id="cb22-7"><a href=""></a><span class="co"># Formateando años en el eje X correctamente</span></span>
<span id="cb22-8"><a href=""></a>ax.xaxis.set_major_locator(mpl.dates.YearLocator())</span>
<span id="cb22-9"><a href=""></a>ax.xaxis.set_major_formatter(mpl.dates.DateFormatter(<span class="st">'%Y-%m'</span>))</span>
<span id="cb22-10"><a href=""></a>plt.xticks(rotation <span class="op">=</span> <span class="dv">30</span>)</span>
<span id="cb22-11"><a href=""></a>f.set_size_inches(<span class="dv">16</span>,<span class="dv">3</span>)</span>
<span id="cb22-12"><a href=""></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-22-output-1.png" width="1265" height="310"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="comparación-de-categorías" class="slide level2">
<h2>Comparación de categorías</h2>
<p>En el preprocesamiento del dataset, se crearon categorías de calidad del aire a partir de las columnas numéricas. Estás son: <em>Buena, Mediocre, Mala, y Peligrosa</em>. Se toman a partir de la misma definición del Indice de Calidad del Aire (de parte del EPA USA).</p>
<p>Podemos usar estas categorías para comparar cuales regiones tienen más ocurrencias de una calidad de aire <em>peligrosa</em> a lo largo del año.</p>
</section>
<section class="slide level2">

<div id="080750fd" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href=""></a>regions <span class="op">=</span> [<span class="st">"Noreste"</span>, <span class="st">"Noroeste"</span>, <span class="st">"Centro"</span>, <span class="st">"Sureste"</span>, <span class="st">"Suroeste"</span>]</span>
<span id="cb23-2"><a href=""></a></span>
<span id="cb23-3"><a href=""></a>quality_count_dfs <span class="op">=</span> []</span>
<span id="cb23-4"><a href=""></a></span>
<span id="cb23-5"><a href=""></a><span class="cf">for</span> region <span class="kw">in</span> regions:</span>
<span id="cb23-6"><a href=""></a>    calidad <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> df_imeca <span class="cf">if</span> region <span class="kw">in</span> i <span class="kw">and</span> <span class="st">"Calidad"</span> <span class="kw">in</span> i]</span>
<span id="cb23-7"><a href=""></a>    value_counts <span class="op">=</span> df_imeca[calidad][df_imeca[<span class="st">'Fecha-Hora'</span>].dt.year <span class="op">==</span> <span class="dv">2020</span>].<span class="bu">apply</span>(pd.Series.value_counts, dropna<span class="op">=</span><span class="va">True</span>).replace(np.nan, <span class="dv">0</span>)</span>
<span id="cb23-8"><a href=""></a>    value_counts <span class="op">=</span> value_counts.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>).rename(region)</span>
<span id="cb23-9"><a href=""></a>    quality_count_dfs.append(value_counts)</span>
<span id="cb23-10"><a href=""></a></span>
<span id="cb23-11"><a href=""></a>quality_count_df <span class="op">=</span> pd.DataFrame(quality_count_dfs)</span>
<span id="cb23-12"><a href=""></a>quality_count_df <span class="op">=</span> quality_count_df.pivot_table(columns<span class="op">=</span>regions)</span>
<span id="cb23-13"><a href=""></a>quality_count_df</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="188">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>

<table class="dataframe caption-top" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header" style="text-align: right;">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Centro</th>
<th data-quarto-table-cell-role="th">Noreste</th>
<th data-quarto-table-cell-role="th">Noroeste</th>
<th data-quarto-table-cell-role="th">Sureste</th>
<th data-quarto-table-cell-role="th">Suroeste</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Buena</td>
<td>38312.0</td>
<td>36680.0</td>
<td>36864.0</td>
<td>37858.0</td>
<td>40865.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Mala</td>
<td>680.0</td>
<td>2031.0</td>
<td>987.0</td>
<td>954.0</td>
<td>699.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Mediocre</td>
<td>12725.0</td>
<td>13112.0</td>
<td>13718.0</td>
<td>12719.0</td>
<td>10217.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Peligrosa</td>
<td>981.0</td>
<td>875.0</td>
<td>1129.0</td>
<td>1167.0</td>
<td>917.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section class="slide level2">

<div id="3efcee21" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href=""></a>quality_count_df.plot(kind<span class="op">=</span><span class="st">'bar'</span>,</span>
<span id="cb24-2"><a href=""></a>        title<span class="op">=</span><span class="st">'Comparación de la calidad del aire entre regiones (2020)'</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">5</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-24-output-1.png" width="1261" height="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>¿Que contaminantes presentan un mayor riesgo para la población? Podemos hacer una comparación similar, pero según contaminantes en lugar de según regiones:</p>
<div id="ee43f01e" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href=""></a>regions <span class="op">=</span> [<span class="st">"Ozono"</span>, <span class="st">"dióxido de azufre"</span>, <span class="st">"dióxido de nitrógeno"</span>, <span class="st">"monóxido de carbono"</span>, <span class="st">"PM10"</span>, <span class="st">"PM25"</span>]</span>
<span id="cb25-2"><a href=""></a></span>
<span id="cb25-3"><a href=""></a>quality_count_dfs <span class="op">=</span> []</span>
<span id="cb25-4"><a href=""></a></span>
<span id="cb25-5"><a href=""></a><span class="cf">for</span> region <span class="kw">in</span> regions:</span>
<span id="cb25-6"><a href=""></a>    calidad <span class="op">=</span> [i <span class="cf">for</span> i <span class="kw">in</span> df_imeca <span class="cf">if</span> region <span class="kw">in</span> i <span class="kw">and</span> <span class="st">"Calidad"</span> <span class="kw">in</span> i]</span>
<span id="cb25-7"><a href=""></a>    value_counts <span class="op">=</span> df_imeca[calidad][df_imeca[<span class="st">'Fecha-Hora'</span>].dt.year <span class="op">==</span> <span class="dv">2020</span>].<span class="bu">apply</span>(pd.Series.value_counts, dropna<span class="op">=</span><span class="va">True</span>).replace(np.nan, <span class="dv">0</span>)</span>
<span id="cb25-8"><a href=""></a>    value_counts <span class="op">=</span> value_counts.<span class="bu">sum</span>(axis<span class="op">=</span><span class="dv">1</span>).rename(region)</span>
<span id="cb25-9"><a href=""></a>    quality_count_dfs.append(value_counts)</span>
<span id="cb25-10"><a href=""></a></span>
<span id="cb25-11"><a href=""></a>quality_count_df <span class="op">=</span> pd.DataFrame(quality_count_dfs)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div id="f9d58da8" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href=""></a>quality_count_df.pivot_table(columns<span class="op">=</span>regions).plot(kind<span class="op">=</span><span class="st">'bar'</span>,</span>
<span id="cb26-2"><a href=""></a>        title<span class="op">=</span><span class="st">'Comparación del impacto en la calidad del aire (2020)'</span>, figsize<span class="op">=</span>(<span class="dv">16</span>,<span class="dv">5</span>))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-26-output-1.png" width="1261" height="480"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análisis-de-correlaciones" class="slide level2">
<h2>Análisis de correlaciones</h2>
<p>¿Existe alguna correlación, negativa o positiva, entre la presencia de los contaminantes, o entre regiones? Sí usamos campos númericos, una aproximación sencilla para responder esta pregunta es la <strong>matriz de correlación</strong>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href=""></a><span class="co"># Calcular la matriz de correlación para las variables numéricas en el dataframe</span></span>
<span id="cb27-2"><a href=""></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb27-3"><a href=""></a></span>
<span id="cb27-4"><a href=""></a><span class="co"># Agarramos varias columnas y le aplicamos el metodo .corr(), que por defecto usa </span></span>
<span id="cb27-5"><a href=""></a><span class="co"># Pearson para calcular la correlación.</span></span>
<span id="cb27-6"><a href=""></a>correlacion <span class="op">=</span> df_imeca[</span>
<span id="cb27-7"><a href=""></a>    [<span class="st">"Noroeste Ozono"</span>, <span class="st">"Noroeste PM10"</span>, <span class="st">"Centro Ozono"</span>, <span class="st">"Centro PM10"</span>, <span class="st">"Sureste PM25"</span>]</span>
<span id="cb27-8"><a href=""></a>].corr()</span>
<span id="cb27-9"><a href=""></a></span>
<span id="cb27-10"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>, <span class="dv">5</span>))</span>
<span id="cb27-11"><a href=""></a></span>
<span id="cb27-12"><a href=""></a><span class="co"># Creación de heatmap mediante seaborn</span></span>
<span id="cb27-13"><a href=""></a>sns.heatmap(correlacion, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">"coolwarm"</span>, linewidths<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb27-14"><a href=""></a>plt.title(</span>
<span id="cb27-15"><a href=""></a>    <span class="st">"Matriz de Correlación entre Contaminantes en Diferentes Regiones"</span>, fontsize<span class="op">=</span><span class="dv">16</span></span>
<span id="cb27-16"><a href=""></a>)</span>
<span id="cb27-17"><a href=""></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<div id="3d138eef" class="cell" data-execution_count="26">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-27-output-1.png" width="1140" height="584"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Otra forma de observar relaciones entre multiples variables númericas es un <strong>diagrama de dispersión</strong>.</p>
<p>Al gráficar una variable contra otra, podemos, según rasgos que presente la visualización resultante, ver si están correlacionadas positiva o negativamente.</p>
<p>Además, es útil para identificar otros patrones en los datos, como outliers, clusters, o huecos.</p>
</section>
<section class="slide level2">

<div class="sourceCode" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href=""></a>df_imeca_feb2009 <span class="op">=</span> df_imeca[(df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&gt;</span> <span class="st">'2009-01-31'</span>) <span class="op">&amp;</span> (df_imeca[<span class="st">'Fecha-Hora'</span>] <span class="op">&lt;</span> <span class="st">'2009-03-01'</span>)]</span>
<span id="cb28-2"><a href=""></a></span>
<span id="cb28-3"><a href=""></a></span>
<span id="cb28-4"><a href=""></a>x <span class="op">=</span> df_imeca_feb2009[<span class="st">'Sureste Ozono'</span>]</span>
<span id="cb28-5"><a href=""></a>y <span class="op">=</span> df_imeca_feb2009[<span class="st">'Sureste monóxido de carbono'</span>]</span>
<span id="cb28-6"><a href=""></a>colors <span class="op">=</span> np.random.rand(x.shape[<span class="dv">0</span>])</span>
<span id="cb28-7"><a href=""></a></span>
<span id="cb28-8"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb28-9"><a href=""></a>plt.scatter(x, y, c<span class="op">=</span>colors)</span>
<span id="cb28-10"><a href=""></a>plt.title(<span class="st">'ICA del Ozono y del Monóxido de Carbono en la región Sureste'</span>)</span>
<span id="cb28-11"><a href=""></a>plt.xlabel(<span class="st">'Sureste Ozono'</span>)</span>
<span id="cb28-12"><a href=""></a>plt.ylabel(<span class="st">'Sureste Monóxido de Carbono'</span>)</span>
<span id="cb28-13"><a href=""></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb28-14"><a href=""></a>plt.legend()</span>
<span id="cb28-15"><a href=""></a>plt.show()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section class="slide level2">

<div id="7d832fdc" class="cell" data-execution_count="27">
<div class="cell-output cell-output-display">
<div>
<figure>
<p><img data-src="analisis-exploratorio-datos_files/figure-revealjs/cell-28-output-1.png" width="1180" height="450"></p>
</figure>
</div>
</div>
</div>
</section>
<section class="slide level2">

<p>Alternativamente, si estamos lidiando con datos categóricos, podemos generar una <strong>tabla de contingencia</strong>, que nos mostrará cuantas veces dos campos coinciden en sus categórias:</p>
<div id="4acfbe1b" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href=""></a>tabla_contingencia <span class="op">=</span> pd.crosstab(df_imeca[<span class="st">"Sureste Ozono Calidad"</span>], df_imeca[<span class="st">"Sureste PM10 Calidad"</span>])</span>
<span id="cb29-2"><a href=""></a><span class="bu">print</span>(tabla_contingencia)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sureste PM10 Calidad   Buena  Mala  Mediocre  Peligrosa
Sureste Ozono Calidad                                  
Buena                  81359  7701     76093       3603
Mala                    3221  1086      8895        152
Mediocre               16794  1974     23957        521
Peligrosa                557   210       808         85</code></pre>
</div>
</div>

</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="data/images/logo_lia.png" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://www.lia-ve.org">Laboratorio Venezolano de Inteligencia Artificial</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="analisis-exploratorio-datos_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copiado");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copiado");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>